(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7462],{2200:function(e,t,a){var o={"./ExampleSlideLayout":[58710,9,8710],"./ExampleSlideLayout.tsx":[58710,9,8710],"./ExampleSlideLayoutTemplate":[60778,9,778],"./ExampleSlideLayoutTemplate.tsx":[60778,9,778],"./defaultSchemes":[54403,9,4403],"./defaultSchemes.ts":[54403,9,4403],"./general/BasicInfoSlideLayout":[3659,9,3659],"./general/BasicInfoSlideLayout.tsx":[3659,9,3659],"./general/BulletIconsOnlySlideLayout":[50178,9,178],"./general/BulletIconsOnlySlideLayout.tsx":[50178,9,178],"./general/BulletWithIconsSlideLayout":[26316,9,6316],"./general/BulletWithIconsSlideLayout.tsx":[26316,9,6316],"./general/ChartWithBulletsSlideLayout":[94353,9,3335,4353],"./general/ChartWithBulletsSlideLayout.tsx":[94353,9,3335,4353],"./general/IntroSlideLayout":[27149,9,7149],"./general/IntroSlideLayout.tsx":[27149,9,7149],"./general/MetricsSlideLayout":[25723,9,5723],"./general/MetricsSlideLayout.tsx":[25723,9,5723],"./general/MetricsWithImageSlideLayout":[64490,9,4490],"./general/MetricsWithImageSlideLayout.tsx":[64490,9,4490],"./general/NumberedBulletsSlideLayout":[9080,9,9080],"./general/NumberedBulletsSlideLayout.tsx":[9080,9,9080],"./general/QuoteSlideLayout":[8733,9,8733],"./general/QuoteSlideLayout.tsx":[8733,9,8733],"./general/TableInfoSlideLayout":[78470,9,8470],"./general/TableInfoSlideLayout.tsx":[78470,9,8470],"./general/TableOfContentsSlideLayout":[18309,9,8309],"./general/TableOfContentsSlideLayout.tsx":[18309,9,8309],"./general/TeamSlideLayout":[96907,9,6907],"./general/TeamSlideLayout.tsx":[96907,9,6907],"./general/settings":[42895,3,2895],"./general/settings.json":[42895,3,2895],"./modern/1IntroSlideLayout":[87013,9,7013],"./modern/1IntroSlideLayout.tsx":[87013,9,7013],"./modern/2AboutCompanySlideLayout":[44773,9,4773],"./modern/2AboutCompanySlideLayout.tsx":[44773,9,4773],"./modern/3ProblemSlideLayout":[84469,9,4469],"./modern/3ProblemSlideLayout.tsx":[84469,9,4469],"./modern/4SolutionSlideLayout":[73768,9,3768],"./modern/4SolutionSlideLayout.tsx":[73768,9,3768],"./modern/5ProductOverviewSlideLayout":[17271,9,7271],"./modern/5ProductOverviewSlideLayout.tsx":[17271,9,7271],"./modern/6MarketSizeSlideLayout":[69018,9,9018],"./modern/6MarketSizeSlideLayout.tsx":[69018,9,9018],"./modern/7MarketValidationSlideLayout":[23855,9,3335,3855],"./modern/7MarketValidationSlideLayout.tsx":[23855,9,3335,3855],"./modern/8CompanyTractionSlideLayout":[17941,9,7941],"./modern/8CompanyTractionSlideLayout.tsx":[17941,9,7941],"./modern/9BusinessModelSlideLayout":[87240,9,7240],"./modern/9BusinessModelSlideLayout.tsx":[87240,9,7240],"./modern/settings":[86101,3,6101],"./modern/settings.json":[86101,3,6101],"./modern/z10TeamSlideLayout":[54217,9,4217],"./modern/z10TeamSlideLayout.tsx":[54217,9,4217],"./modern/z11ThankYouSlideLayout":[8351,9,8351],"./modern/z11ThankYouSlideLayout.tsx":[8351,9,8351],"./standard/ChartLeftTextRightLayout":[97608,9,7608],"./standard/ChartLeftTextRightLayout.tsx":[97608,9,7608],"./standard/ContactLayout":[14529,9,4529],"./standard/ContactLayout.tsx":[14529,9,4529],"./standard/HeadingBulletImageDescriptionLayout":[33965,9,3965],"./standard/HeadingBulletImageDescriptionLayout.tsx":[33965,9,3965],"./standard/IconBulletDescriptionLayout":[87037,9,7037],"./standard/IconBulletDescriptionLayout.tsx":[87037,9,7037],"./standard/IconImageDescriptionLayout":[41456,9,1456],"./standard/IconImageDescriptionLayout.tsx":[41456,9,1456],"./standard/ImageListWithDescriptionLayout":[23057,9,3057],"./standard/ImageListWithDescriptionLayout.tsx":[23057,9,3057],"./standard/IntroSlideLayout":[95567,9,5567],"./standard/IntroSlideLayout.tsx":[95567,9,5567],"./standard/MetricsDescriptionLayout":[20432,9,432],"./standard/MetricsDescriptionLayout.tsx":[20432,9,432],"./standard/NumberedBulletSingleImageLayout":[48256,9,8256],"./standard/NumberedBulletSingleImageLayout.tsx":[48256,9,8256],"./standard/TableOfContentsLayout":[31722,9,9744],"./standard/TableOfContentsLayout.tsx":[31722,9,9744],"./standard/VisualMetricsSlideLayout":[77202,9,7202],"./standard/VisualMetricsSlideLayout.tsx":[77202,9,7202],"./standard/settings":[54462,3,4462],"./standard/settings.json":[54462,3,4462],"./swift/BulletsWithIconsTitleDescription":[32842,9,2842],"./swift/BulletsWithIconsTitleDescription.tsx":[32842,9,2842],"./swift/IconBulletListDescription":[92548,9,2548],"./swift/IconBulletListDescription.tsx":[92548,9,2548],"./swift/ImageListDescription":[80343,9,343],"./swift/ImageListDescription.tsx":[80343,9,343],"./swift/IntroSlideLayout":[32615,9,2615],"./swift/IntroSlideLayout.tsx":[32615,9,2615],"./swift/MetricsNumbers":[17700,9,7700],"./swift/MetricsNumbers.tsx":[17700,9,7700],"./swift/SimpleBulletPointsLayout":[84214,9,4214],"./swift/SimpleBulletPointsLayout.tsx":[84214,9,4214],"./swift/TableOfContents":[17511,9,7511],"./swift/TableOfContents.tsx":[17511,9,7511],"./swift/TableorChart":[61558,9,1558],"./swift/TableorChart.tsx":[61558,9,1558],"./swift/Timeline":[98319,9,8319],"./swift/Timeline.tsx":[98319,9,8319],"./swift/settings":[83243,3,3243],"./swift/settings.json":[83243,3,3243]};function l(e){if(!a.o(o,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=o[e],l=t[0];return Promise.all(t.slice(2).map(a.e)).then(function(){return a.t(l,16|t[1])})}l.keys=function(){return Object.keys(o)},l.id=2200,e.exports=l},87462:function(e,t,a){"use strict";a.d(t,{$:function(){return L},LayoutProvider:function(){return g}});var o=a(57437),l=a(2265),n=a(30166),s=a(14438),r=a(27248),i=a(86116),u=a(68575),c=a(91626),d=a(4770),m=a(82571),p=a(84025);let y=(0,l.createContext)(void 0),f=new Map,h=(e,t)=>"".concat(e,"/").concat(t),S=(e,t,a)=>{let o=e.replace(/import\s+React\s+from\s+'react';?/g,"").replace(/import\s*{\s*z\s*}\s*from\s+'zod';?/g,"").replace(/import\s+.*\s+from\s+['"]zod['"];?/g,"").replace(/import\s+.*\s+from\s+['"]zod['"];?/g,"").replace(/const\s+[^=]*=\s*require\(['"]zod['"]\);?/g,"").replace(/typescript/g,""),l=d.transform(o,{presets:[["react",{runtime:"classic"}],["typescript",{isTSX:!0,allExtensions:!0}]],sourceType:"script"}).code;return Function("React","_z","Recharts","\n    const z = _z;\n   \n    const useRef= React.useRef;\n    const useEffect= React.useEffect;\n    // Expose commonly used Recharts components to compiled layouts\n    const { ResponsiveContainer, LineChart, Line, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell, AreaChart, Area, RadarChart, Radar, PolarGrid, PolarAngleAxis, PolarRadiusAxis, ComposedChart, ScatterChart, Scatter, FunnelChart, Funnel, TreemapChart, Treemap, SankeyChart, Sankey, RadialBarChart, RadialBar, ReferenceLine, ReferenceDot, ReferenceArea, Brush, ErrorBar, LabelList, Label } = Recharts || {};\n    \n      ".concat(l,"\n\n      /* everything declared in the string is in scope here */\n      return {\n        __esModule: true,   \n        default: typeof dynamicSlideLayout !== 'undefined' ? dynamicSlideLayout : (typeof DefaultLayout !== 'undefined' ? DefaultLayout : undefined),\n        layoutName,\n        layoutId,\n        layoutDescription,\n        Schema\n      };\n    "))(t,a,m)},g=e=>{let{children:t}=e,[d,m]=(0,l.useState)(null),[g,L]=(0,l.useState)(!0),[I,x]=(0,l.useState)(null),[D,w]=(0,l.useState)(!1),[C,T]=(0,l.useState)(new Map),B=(0,u.I0)(),A=async e=>{let t=[],o=new Map,l=new Map,n=new Map,i=new Map,u=new Map,c=new Map;w(!0);try{for(let d of e){l.has(d.templateID)||l.set(d.templateID,new Set),c.set(d.templateID,[]);let e=d.settings||{templateName:d.templateName,description:"".concat(d.templateID," presentation layouts"),ordered:!1,default:!1};n.set(d.templateID,e);let m=[],p=[];for(let e of d.files)try{let n=e.replace(".tsx","").replace(".ts",""),u=await a(2200)("./".concat(d.templateID,"/").concat(n));if(!u.default){s.Am.error("".concat(n," has no default export"),{description:"Please ensure the layout file exports a default component"}),console.warn("❌ ".concat(n," has no default export"));continue}if(!u.Schema){s.Am.error("".concat(n," has no Schema export"),{description:"Please ensure the layout file exports a Schema"}),console.warn("❌ ".concat(n," has no Schema export"));continue}let c=h(d.templateID,e);f.has(c)||f.set(c,u.default);let y=u.layoutId||n.toLowerCase().replace(/layout$/,""),S="".concat(d.templateID,":").concat(y),g=u.layoutName||n.replace(/([A-Z])/g," $1").trim(),L=u.layoutDescription||"".concat(g," layout for presentations"),I=r.a(u.Schema,{override:e=>{delete e.jsonSchema.default}}),x={id:S,name:g,description:L,json_schema:I,templateID:d.templateID,templateName:d.templateName},D=u.Schema.parse({}),w={name:g,component:u.default,schema:I,sampleData:D,fileName:e,templateID:d.templateID,layoutId:S};p.push(w),o.set(S,x),l.get(d.templateID).add(S),i.set(S,{fileName:e,templateID:d.templateID}),m.push(x),t.push(x)}catch(t){console.error("\uD83D\uDCA5 Error extracting schema for ".concat(e," from ").concat(d.templateID,":"),t)}c.set(d.templateID,p),u.set(d.templateID,m)}}catch(e){console.error("Compilation error:",e)}return{layoutsById:o,layoutsByTemplateID:l,templateSettings:n,fileMap:i,templateLayoutsCache:u,layoutSchema:t,fullDataByTemplateID:c}},M=async()=>{try{L(!0),x(null),B((0,c.nb)(!0));let e=await fetch("/api/templates");if(!e.ok)throw Error("Failed to fetch layouts: ".concat(e.statusText));let t=await e.json();if(!t||0===t.length){x("No template found");return}let a=await A(t),o=await b();w(!1);let l={layoutsById:v(a.layoutsById,o.layoutsById),layoutsByTemplateID:v(a.layoutsByTemplateID,o.layoutsByTemplateID),templateSettings:v(a.templateSettings,o.templateSettings),fileMap:v(a.fileMap,o.fileMap),templateLayouts:v(a.templateLayoutsCache,o.templateLayoutsCache),layoutSchema:[...a.layoutSchema,...o.layoutSchema],fullDataByTemplateID:v(a.fullDataByTemplateID,o.fullDataByTemplateID)};m(l)}catch(e){x(e instanceof Error?e.message:"Failed to load layouts"),console.error("\uD83D\uDCA5 Error loading layouts:",e)}finally{B((0,c.nb)(!1)),L(!1)}};function v(e,t){let a=new Map(e);return t.forEach((e,t)=>{a.set(t,e)}),a}let b=async()=>{let e=localStorage.getItem("auth_token"),t=[],a=new Map,n=new Map,s=new Map,u=new Map,c=new Map,d=new Map;try{let y=await fetch("/api/v1/ppt/template-management/summary",{headers:{...(0,p.P)(),...e?{Authorization:"Bearer ".concat(e)}:{}}}),g=await y.json(),L=new Map;for(let y of g.presentations||[]){var m;let g=y&&(y.presentation_id||y.presentation||y.id)||"";if(!g)continue;let I="custom-".concat(g),x=(null===(m=y.template)||void 0===m?void 0:m.name)||I;d.set(I,[]),n.has(I)||n.set(I,new Set);let D=await fetch("/api/v1/ppt/template-management/get-templates/".concat(g),{headers:{...(0,p.P)(),...e?{Authorization:"Bearer ".concat(e)}:{}}}),w=(await D.json()).layouts,C={templateName:x,description:"Custom presentation layouts",ordered:!1,default:!1};s.set("custom-".concat(g),C);let B=[],A=[],M=(e,t)=>{let a=()=>(0,o.jsxs)("div",{className:"aspect-video w-full h-full bg-red-50 text-red-700 flex flex-col items-start justify-start p-4 space-y-2",children:[(0,o.jsx)("div",{className:"text-sm font-semibold",children:e}),(0,o.jsx)("pre",{className:"text-xs whitespace-pre-wrap break-words max-h-full overflow-auto bg-red-100 rounded-md p-2 border border-red-200",children:t})]});return a.displayName="CustomTemplateErrorSlide",a};for(let e of w)try{let o=S(e.layout_code,l,i),s=o&&o.layoutId||e.layout_name.toLowerCase().replace(/layout$/,""),c="".concat("custom-".concat(g),":").concat(s),d=o&&o.layoutName||e.layout_name.replace(/([A-Z])/g," $1").trim(),m=o&&o.layoutDescription||"".concat(d," layout for presentations"),p=null,y=null,D=null,w={};if(o&&o.default){if(o.Schema){let t=h("custom-".concat(g),e.layout_name);f.has(t)||f.set(t,o.default),D=o.default;try{y=r.a(o.Schema,{override:e=>{delete e.jsonSchema.default}})}catch(t){D=M("Schema generation failed for ".concat(e.layout_name),(null==t?void 0:t.message)||String(t)),y={}}if(null!==D&&D!==o.default)w={};else try{w=o.Schema.parse({})}catch(t){D=M("Schema.parse failed for ".concat(e.layout_name),(null==t?void 0:t.message)||String(t)),w={},y=y||{}}}else D=M("Schema missing in ".concat(e.layout_name),"Schema export not found. Please export a Zod Schema as 'Schema'."),y={}}else D=M("Invalid export in ".concat(e.layout_name),"Default export not found. Please export a default React component."),y={};L.set(g,e.fonts);let C={id:c,name:d,description:m,json_schema:y,templateID:I,templateName:x};p={name:d,component:D,schema:y,sampleData:w,fileName:e.layout_name,templateID:I,layoutId:c},A.push(p),a.set(c,C),n.get(I).add(c),u.set(c,{fileName:e.layout_name,templateID:I}),B.push(C),t.push(C)}catch(c){let o="".concat("custom-".concat(g),":").concat(e.layout_name.toLowerCase().replace(/layout$/,"")),l=e.layout_name.replace(/([A-Z])/g," $1").trim(),s=M("Compilation error in ".concat(e.layout_name),(null==c?void 0:c.message)||String(c)),r={id:o,name:l,description:"Failed to compile ".concat(e.layout_name),json_schema:{},templateID:I,templateName:x},i={name:l,component:s,schema:{},sampleData:{},fileName:e.layout_name,templateID:I,layoutId:o};A.push(i),a.set(o,r),n.get(I).add(o),u.set(o,{fileName:e.layout_name,templateID:I}),B.push(r),t.push(r)}T(L),c.set(I,B),d.set(I,A)}}catch(e){console.error("Compilation error:",e)}return{layoutsById:a,layoutsByTemplateID:n,templateSettings:s,fileMap:u,templateLayoutsCache:c,layoutSchema:t,fullDataByTemplateID:d}};(0,l.useEffect)(()=>{M()},[]);let N={getLayoutById:e=>{if(!d)return null;for(let[t,a]of Array.from(d.layoutsById.entries()))if(t===e)return a;return null},getLayoutsByTemplateID:e=>(null==d?void 0:d.templateLayouts.get(e))||[],getTemplateSetting:e=>(null==d?void 0:d.templateSettings.get(e))||null,getAllTemplateIDs:()=>d?Array.from(d.templateSettings.keys()):[],getAllLayouts:()=>(null==d?void 0:d.layoutSchema)||[],getFullDataByTemplateID:e=>(null==d?void 0:d.fullDataByTemplateID.get(e))||[],getCustomTemplateFonts:e=>C.get(e)||null,loading:g,error:I,getLayout:e=>{let t;if(!d)return null;for(let[a,o]of Array.from(d.fileMap.entries()))if(a===e){t=o;break}if(!t)return console.warn("No file info found for layout: ".concat(e)),null;let l=h(t.templateID,t.fileName);if(f.has(l))return f.get(l);let s=t.fileName.replace(".tsx","").replace(".ts",""),r=(0,n.default)(()=>a(2200)("./".concat(t.templateID,"/").concat(s)),{loading:()=>(0,o.jsx)("div",{className:"w-full aspect-[16/9] bg-gray-100 animate-pulse rounded-lg"}),ssr:!1});return f.set(l,r),r},isPreloading:D,cacheSize:f.size,refetch:M};return(0,o.jsx)(y.Provider,{value:N,children:t})},L=()=>{let e=(0,l.useContext)(y);if(void 0===e)throw Error("useLayout must be used within a LayoutProvider");return e}},84025:function(e,t,a){"use strict";a.d(t,{P:function(){return o},V:function(){return l}});let o=()=>{let e=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),t={"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"};return e&&(t.Authorization="Bearer ".concat(e)),t},l=()=>{let e=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),t={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"};return e&&(t.Authorization="Bearer ".concat(e)),t}}}]);