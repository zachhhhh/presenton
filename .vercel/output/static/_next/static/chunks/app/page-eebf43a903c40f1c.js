(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{13472:function(e,t,n){Promise.resolve().then(n.bind(n,75660))},75660:function(e,t,n){"use strict";n.d(t,{default:function(){return g}});var a=n(57437),o=n(2265),r=n(99376),s=n(14438),i=n(41671),l=n(92735),d=n(51817),u=n(68575),c=n(93732),f=n(14374),m=n(18351),x=n(56295);function g(){let e=(0,r.useRouter)(),t=(0,r.usePathname)(),n=(0,u.v9)(e=>e.userConfig),[g,h]=(0,o.useState)(n.llm_config),[v,p]=(0,o.useState)(null),[b,w]=(0,o.useState)(!1),[y,j]=(0,o.useState)({isLoading:!1,isDisabled:!1,text:"Save Configuration",showProgress:!1}),M=n.can_change_keys,N=(0,o.useMemo)(()=>v&&null!==v.downloaded&&null!==v.size?Math.round(v.downloaded/v.size*100):0,[null==v?void 0:v.downloaded,null==v?void 0:v.size]),C=async()=>{(0,x.L9)(x.j7.Home_SaveConfiguration_Button_Clicked,{pathname:t});try{j(e=>({...e,isLoading:!0,isDisabled:!0,text:"Saving Configuration..."})),(0,x.L9)(x.j7.Home_SaveConfiguration_API_Call),await (0,c.W)(g),"ollama"===g.LLM&&g.OLLAMA_MODEL&&((0,x.L9)(x.j7.Home_CheckOllamaModelPulled_API_Call),await (0,m.Zk)(g.OLLAMA_MODEL)||(w(!0),(0,x.L9)(x.j7.Home_DownloadOllamaModel_API_Call),await L())),s.Am.info("Configuration saved successfully"),j(e=>({...e,isLoading:!1,isDisabled:!1,text:"Save Configuration"})),(0,x.L9)(x.j7.Navigation,{from:t,to:"/upload"}),e.push("/upload")}catch(e){s.Am.info(e instanceof Error?e.message:"Failed to save configuration"),j(e=>({...e,isLoading:!1,isDisabled:!1,text:"Save Configuration"}))}},L=async()=>{try{await (0,m.N6)(g.OLLAMA_MODEL,p)}finally{p(null),w(!1)}};return((0,o.useEffect)(()=>{if(v&&null!==v.downloaded&&null!==v.size){let e=Math.round(v.downloaded/v.size*100);j({isLoading:!0,isDisabled:!0,text:"Downloading Model (".concat(e,"%)"),showProgress:!0,progressPercentage:e,status:v.status})}v&&v.done&&setTimeout(()=>{w(!1),p(null),s.Am.info("Model downloaded successfully!")},2e3)},[v]),(0,o.useEffect)(()=>{M||e.push("/dashboard")},[M,e]),M)?(0,a.jsxs)("div",{className:"h-screen bg-gradient-to-b font-instrument_sans from-gray-50 to-white flex flex-col overflow-hidden",children:[(0,a.jsxs)("main",{className:"flex-1 container mx-auto px-4 max-w-3xl overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"text-center mb-2 mt-4 flex-shrink-0",children:[(0,a.jsx)("div",{className:"flex items-center justify-center gap-3 mb-2",children:(0,a.jsx)("img",{src:"/Logo.png",alt:"Presenton Logo",className:"h-12"})}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Open-source AI presentation generator"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsx)(f.Z,{initialLLMConfig:g,onConfigChange:h,buttonState:y,setButtonState:j})})]}),b&&v&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-2xl max-w-md w-full p-6 relative",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mb-4",children:v.done?(0,a.jsx)(i.Z,{className:"w-12 h-12 text-green-600 mx-auto"}):(0,a.jsx)(l.Z,{className:"w-12 h-12 text-blue-600 mx-auto animate-pulse"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:v.done?"Download Complete!":"Downloading Model"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:g.OLLAMA_MODEL}),N>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300 ease-out",style:{width:"".concat(N,"%")}})}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[N,"% Complete"]})]}),v.status&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-700 capitalize",children:v.status})]}),v.status&&"pulled"!==v.status&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["downloading"===v.status&&"Downloading model files...","verifying"===v.status&&"Verifying model integrity...","pulling"===v.status&&"Pulling model from registry..."]}),v.downloaded&&v.size&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-600",children:[(0,a.jsxs)("span",{children:["Downloaded: ",(v.downloaded/1024/1024).toFixed(1)," MB"]}),(0,a.jsxs)("span",{children:["Total: ",(v.size/1024/1024).toFixed(1)," MB"]})]})})]})})}),(0,a.jsx)("div",{className:"flex-shrink-0 bg-white border-t border-gray-200 p-4",children:(0,a.jsx)("div",{className:"container mx-auto max-w-3xl",children:(0,a.jsx)("button",{onClick:C,disabled:y.isDisabled,className:"w-full font-semibold py-3 px-4 rounded-lg transition-all duration-500 ".concat(y.isDisabled?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:ring-4 focus:ring-blue-200"," text-white"),children:y.isLoading?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 animate-spin"}),y.text]}):y.text})})})]}):null}},41671:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(79205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},92735:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(79205).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},33245:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(79205).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},51817:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},41312:function(e,t,n){"use strict";n.d(t,{VY:function(){return Y},aV:function(){return U},fC:function(){return G},xz:function(){return q}});var a=n(2265),o=n(6741),r=n(73966),s=n(58068),i=n(98575),l=n(99255),d=n(66840),u=n(26606),c=n(80886),f=n(29114),m=n(57437),x="rovingFocusGroup.onEntryFocus",g={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[v,p,b]=(0,s.B)(h),[w,y]=(0,r.b)(h,[b]),[j,M]=w(h),N=a.forwardRef((e,t)=>(0,m.jsx)(v.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(v.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(C,{...e,ref:t})})}));N.displayName=h;var C=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:l,currentTabStopId:v,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:w,onEntryFocus:y,preventScrollOnEntryFocus:M=!1,...N}=e,C=a.useRef(null),L=(0,i.e)(t,C),D=(0,f.gm)(l),[k,_]=(0,c.T)({prop:v,defaultProp:null!=b?b:null,onChange:w,caller:h}),[I,E]=a.useState(!1),F=(0,u.W)(y),S=p(n),R=a.useRef(!1),[T,P]=a.useState(0);return a.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(x,F),()=>e.removeEventListener(x,F)},[F]),(0,m.jsx)(j,{scope:n,orientation:r,dir:D,loop:s,currentTabStopId:k,onItemFocus:a.useCallback(e=>_(e),[_]),onItemShiftTab:a.useCallback(()=>E(!0),[]),onFocusableItemAdd:a.useCallback(()=>P(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>P(e=>e-1),[]),children:(0,m.jsx)(d.WV.div,{tabIndex:I||0===T?-1:0,"data-orientation":r,...N,ref:L,style:{outline:"none",...e.style},onMouseDown:(0,o.M)(e.onMouseDown,()=>{R.current=!0}),onFocus:(0,o.M)(e.onFocus,e=>{let t=!R.current;if(e.target===e.currentTarget&&t&&!I){let t=new CustomEvent(x,g);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=S().filter(e=>e.focusable);A([e.find(e=>e.active),e.find(e=>e.id===k),...e].filter(Boolean).map(e=>e.ref.current),M)}}R.current=!1}),onBlur:(0,o.M)(e.onBlur,()=>E(!1))})})}),L="RovingFocusGroupItem",D=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:u,...c}=e,f=(0,l.M)(),x=i||f,g=M(L,n),h=g.currentTabStopId===x,b=p(n),{onFocusableItemAdd:w,onFocusableItemRemove:y,currentTabStopId:j}=g;return a.useEffect(()=>{if(r)return w(),()=>y()},[r,w,y]),(0,m.jsx)(v.ItemSlot,{scope:n,id:x,focusable:r,active:s,children:(0,m.jsx)(d.WV.span,{tabIndex:h?0:-1,"data-orientation":g.orientation,...c,ref:t,onMouseDown:(0,o.M)(e.onMouseDown,e=>{r?g.onItemFocus(x):e.preventDefault()}),onFocus:(0,o.M)(e.onFocus,()=>g.onItemFocus(x)),onKeyDown:(0,o.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){g.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,n){var a;let o=(a=e.key,"rtl"!==n?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(o))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(o)))return k[o]}(e,g.orientation,g.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let o=b().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)o.reverse();else if("prev"===t||"next"===t){var n,a;"prev"===t&&o.reverse();let r=o.indexOf(e.currentTarget);o=g.loop?(n=o,a=r+1,n.map((e,t)=>n[(a+t)%n.length])):o.slice(r+1)}setTimeout(()=>A(o))}}),children:"function"==typeof u?u({isCurrentTabStop:h,hasTabStop:null!=j}):u})})});D.displayName=L;var k={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.activeElement;for(let a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}var _=n(71599),I="Tabs",[E,F]=(0,r.b)(I,[y]),S=y(),[R,T]=E(I),P=a.forwardRef((e,t)=>{let{__scopeTabs:n,value:a,onValueChange:o,defaultValue:r,orientation:s="horizontal",dir:i,activationMode:u="automatic",...x}=e,g=(0,f.gm)(i),[h,v]=(0,c.T)({prop:a,onChange:o,defaultProp:null!=r?r:"",caller:I});return(0,m.jsx)(R,{scope:n,baseId:(0,l.M)(),value:h,onValueChange:v,orientation:s,dir:g,activationMode:u,children:(0,m.jsx)(d.WV.div,{dir:g,"data-orientation":s,...x,ref:t})})});P.displayName=I;var z="TabsList",O=a.forwardRef((e,t)=>{let{__scopeTabs:n,loop:a=!0,...o}=e,r=T(z,n),s=S(n);return(0,m.jsx)(N,{asChild:!0,...s,orientation:r.orientation,dir:r.dir,loop:a,children:(0,m.jsx)(d.WV.div,{role:"tablist","aria-orientation":r.orientation,...o,ref:t})})});O.displayName=z;var Z="TabsTrigger",V=a.forwardRef((e,t)=>{let{__scopeTabs:n,value:a,disabled:r=!1,...s}=e,i=T(Z,n),l=S(n),u=W(i.baseId,a),c=H(i.baseId,a),f=a===i.value;return(0,m.jsx)(D,{asChild:!0,...l,focusable:!r,active:f,children:(0,m.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...s,ref:t,onMouseDown:(0,o.M)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(a)}),onKeyDown:(0,o.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(a)}),onFocus:(0,o.M)(e.onFocus,()=>{let e="manual"!==i.activationMode;f||r||!e||i.onValueChange(a)})})})});V.displayName=Z;var K="TabsContent",B=a.forwardRef((e,t)=>{let{__scopeTabs:n,value:o,forceMount:r,children:s,...i}=e,l=T(K,n),u=W(l.baseId,o),c=H(l.baseId,o),f=o===l.value,x=a.useRef(f);return a.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(_.z,{present:r||f,children:n=>{let{present:a}=n;return(0,m.jsx)(d.WV.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!a,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:a&&s})}})});function W(e,t){return"".concat(e,"-trigger-").concat(t)}function H(e,t){return"".concat(e,"-content-").concat(t)}B.displayName=K;var G=P,U=O,q=V,Y=B}},function(e){e.O(0,[1601,8310,3335,3889,9908,1455,4438,5302,2661,9027,3909,866,4536,1622,2971,2117,1744],function(){return e(e.s=13472)}),_N_E=e.O()}]);