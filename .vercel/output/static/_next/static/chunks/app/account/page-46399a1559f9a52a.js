(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9346],{78862:function(e,s,a){Promise.resolve().then(a.bind(a,52116))},52116:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return P}});var t=a(57437),r=a(46281),n=a(2265),i=a(62869),l=a(95186),c=a(26815),o=a(66070),d=a(12339),m=a(51817),u=a(14438);function x(){let{signIn:e,signUp:s}=(0,r.a)(),[a,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)({email:"",password:"",name:""}),f=e=>{p({...h,[e.target.name]:e.target.value})},j=async s=>{s.preventDefault(),x(!0);try{await e(h.email,h.password),u.Am.success("Successfully signed in!")}catch(e){u.Am.error("Failed to sign in. Please check your credentials.")}finally{x(!1)}},_=async e=>{e.preventDefault(),x(!0);try{await s(h.email,h.password,h.name),u.Am.success("Account created successfully! Please check your email to verify your account.")}catch(e){u.Am.error("Failed to create account. Please try again.")}finally{x(!1)}};return(0,t.jsxs)(o.Zb,{className:"w-full max-w-md mx-auto",children:[(0,t.jsxs)(o.Ol,{className:"text-center",children:[(0,t.jsx)(o.ll,{className:"text-2xl",children:"Welcome to Presenton"}),(0,t.jsx)(o.SZ,{children:"Sign in to your account or create a new one"})]}),(0,t.jsx)(o.aY,{children:(0,t.jsxs)(d.mQ,{defaultValue:"signin",className:"w-full",children:[(0,t.jsxs)(d.dr,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(d.SP,{value:"signin",children:"Sign In"}),(0,t.jsx)(d.SP,{value:"signup",children:"Sign Up"})]}),(0,t.jsx)(d.nU,{value:"signin",children:(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c._,{htmlFor:"email",children:"Email"}),(0,t.jsx)(l.I,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:h.email,onChange:f,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c._,{htmlFor:"password",children:"Password"}),(0,t.jsx)(l.I,{id:"password",name:"password",type:"password",placeholder:"Enter your password",value:h.password,onChange:f,required:!0})]}),(0,t.jsx)(i.z,{type:"submit",className:"w-full",disabled:a,children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"})]})}),(0,t.jsx)(d.nU,{value:"signup",children:(0,t.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c._,{htmlFor:"name",children:"Full Name"}),(0,t.jsx)(l.I,{id:"name",name:"name",type:"text",placeholder:"Enter your full name",value:h.name,onChange:f,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c._,{htmlFor:"email",children:"Email"}),(0,t.jsx)(l.I,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:h.email,onChange:f,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c._,{htmlFor:"password",children:"Password"}),(0,t.jsx)(l.I,{id:"password",name:"password",type:"password",placeholder:"Enter your password",value:h.password,onChange:f,required:!0})]}),(0,t.jsx)(i.z,{type:"submit",className:"w-full",disabled:a,children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Sign Up"})]})})]})})]})}var h=a(90535),p=a(94508);let f=(0,h.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function j(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,p.cn)(f({variant:a}),s),...r})}var _=a(60610);let g=n.forwardRef((e,s)=>{let{className:a,value:r,...n}=e;return(0,t.jsx)(_.fC,{ref:s,className:(0,p.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a),...n,children:(0,t.jsx)(_.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});g.displayName=_.fC.displayName;var v=a(30401),y=a(32489);function N(){let{user:e,usage:s,limits:a}=(0,r.a)(),[l,c]=(0,n.useState)(!1),[d,x]=(0,n.useState)([]),[h,p]=(0,n.useState)(null),f=async(e,s)=>{c(!0);try{let e=localStorage.getItem("auth_token")||"";if(!e){u.Am.error("Please sign in to subscribe");return}let a=await fetch("/api/v1/user/subscription/checkout",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({price_id:s})});if(a.ok){let e=await a.json();window.location.href=e.checkout_url}else u.Am.error("Failed to create checkout session")}catch(e){u.Am.error("An error occurred")}finally{c(!1)}},_=async()=>{c(!0);try{let e=localStorage.getItem("auth_token")||"";if(!e){u.Am.error("Please sign in to manage your subscription");return}let s=await fetch("/api/v1/user/subscription/portal",{method:"POST",headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();window.location.href=e.portal_url}else u.Am.error("Failed to create portal session")}catch(e){u.Am.error("An error occurred")}finally{c(!1)}},N=(e,s)=>Math.min(e/s*100,100);return e?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsx)(o.ll,{children:"Current Subscription"}),(0,t.jsx)(o.SZ,{children:"Your current plan and usage statistics"})]}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold capitalize",children:[e.subscription_tier," Plan"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Status: ",e.subscription_status||"Active"]})]}),(0,t.jsx)(j,{variant:e.is_subscription_active?"default":"secondary",children:e.is_subscription_active?"Active":"Inactive"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:"Presentations"}),(0,t.jsxs)("span",{children:[s.presentations_generated," / ",a.max_presentations_per_month]})]}),(0,t.jsx)(g,{value:N(s.presentations_generated,a.max_presentations_per_month)})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:"Exports"}),(0,t.jsxs)("span",{children:[s.presentations_exported," / ",a.max_exports_per_month]})]}),(0,t.jsx)(g,{value:N(s.presentations_exported,a.max_exports_per_month)})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:"API Calls"}),(0,t.jsxs)("span",{children:[s.api_calls_made," / ",a.max_api_calls_per_month]})]}),(0,t.jsx)(g,{value:N(s.api_calls_made,a.max_api_calls_per_month)})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:"Images"}),(0,t.jsxs)("span",{children:[s.images_generated," / ",a.max_images_per_month]})]}),(0,t.jsx)(g,{value:N(s.images_generated,a.max_images_per_month)})]})]}),"free"!==e.subscription_tier&&(0,t.jsx)(i.z,{onClick:_,variant:"outline",className:"w-full",disabled:l,children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Manage Subscription"})]})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsx)(o.ll,{children:"Available Plans"}),(0,t.jsx)(o.SZ,{children:"Choose a plan that fits your needs"})]}),(0,t.jsx)(o.aY,{children:(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.map(s=>(0,t.jsxs)(o.Zb,{className:"relative",children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsx)(o.ll,{className:"capitalize",children:s.plan_name}),(0,t.jsxs)(o.SZ,{children:["$",s.price_monthly,"/month or $",s.price_yearly,"/year"]})]}),(0,t.jsxs)(o.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 text-green-500 mr-2"}),(0,t.jsxs)("span",{children:[s.max_presentations_per_month," presentations/month"]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 text-green-500 mr-2"}),(0,t.jsxs)("span",{children:[s.max_exports_per_month," exports/month"]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 text-green-500 mr-2"}),(0,t.jsxs)("span",{children:[s.max_api_calls_per_month," API calls/month"]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 text-green-500 mr-2"}),(0,t.jsxs)("span",{children:[s.max_images_per_month," images/month"]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[s.can_use_custom_templates?(0,t.jsx)(v.Z,{className:"h-4 w-4 text-green-500 mr-2"}):(0,t.jsx)(y.Z,{className:"h-4 w-4 text-red-500 mr-2"}),(0,t.jsx)("span",{children:"Custom templates"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[s.can_use_premium_templates?(0,t.jsx)(v.Z,{className:"h-4 w-4 text-green-500 mr-2"}):(0,t.jsx)(y.Z,{className:"h-4 w-4 text-red-500 mr-2"}),(0,t.jsx)("span",{children:"Premium templates"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 text-green-500 mr-2"}),(0,t.jsxs)("span",{children:[s.support_priority," support"]})]})]}),e.subscription_tier!==s.plan_name&&(0,t.jsx)(i.z,{className:"w-full",onClick:()=>f(s.plan_name,s.stripe_price_id_monthly),disabled:l,children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Subscribe"}),e.subscription_tier===s.plan_name&&(0,t.jsx)(i.z,{className:"w-full",disabled:!0,children:"Current Plan"})]})]},s.plan_name))})})]})]}):(0,t.jsx)(o.Zb,{children:(0,t.jsx)(o.aY,{className:"pt-6",children:(0,t.jsx)("p",{className:"text-center text-gray-500",children:"Please sign in to manage your subscription."})})})}var b=a(61146);let w=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(b.fC,{ref:s,className:(0,p.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});w.displayName=b.fC.displayName;let S=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(b.Ee,{ref:s,className:(0,p.cn)("aspect-square h-full w-full",a),...r})});S.displayName=b.Ee.displayName;let k=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(b.NY,{ref:s,className:(0,p.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});k.displayName=b.NY.displayName;var C=a(47692),A=a(99376);function P(){let{user:e,usage:s,limits:a,signOut:n}=(0,r.a)(),l=(0,A.useRouter)(),c=async()=>{try{await n(),l.push("/"),u.Am.success("Successfully signed out")}catch(e){u.Am.error("Failed to sign out")}},d=(e,s)=>Math.min(e/s*100,100);return e?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Presenton Dashboard"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(i.z,{variant:"outline",onClick:()=>l.push("/dashboard"),children:"Back to Dashboard"}),(0,t.jsx)(i.z,{variant:"ghost",size:"icon",onClick:c,children:(0,t.jsx)(C.Z,{className:"h-4 w-4"})})]})]})})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(o.Zb,{children:(0,t.jsx)(o.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(w,{className:"h-16 w-16",children:[(0,t.jsx)(S,{src:e.avatar_url,alt:e.name||e.email}),(0,t.jsx)(k,{children:e.name?e.name.charAt(0).toUpperCase():e.email.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.ll,{className:"text-xl",children:e.name||e.email}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsx)(j,{variant:"outline",children:e.subscription_tier}),e.is_subscription_active&&(0,t.jsx)(j,{variant:"default",children:"Active"})]})]})]})})})}),(0,t.jsxs)("div",{className:"grid gap-8 lg:grid-cols-2",children:[(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsx)(o.ll,{children:"Usage Statistics"})}),(0,t.jsxs)(o.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Presentations Generated"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[s.presentations_generated," / ",a.max_presentations_per_month]})]}),(0,t.jsx)(g,{value:d(s.presentations_generated,a.max_presentations_per_month)})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Presentations Exported"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[s.presentations_exported," / ",a.max_exports_per_month]})]}),(0,t.jsx)(g,{value:d(s.presentations_exported,a.max_exports_per_month)})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"API Calls"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[s.api_calls_made," / ",a.max_api_calls_per_month]})]}),(0,t.jsx)(g,{value:d(s.api_calls_made,a.max_api_calls_per_month)})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Images Generated"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[s.images_generated," / ",a.max_images_per_month]})]}),(0,t.jsx)(g,{value:d(s.images_generated,a.max_images_per_month)})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Documents Processed"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[s.documents_processed," / ",a.max_documents_per_month]})]}),(0,t.jsx)(g,{value:d(s.documents_processed,a.max_documents_per_month)})]})]})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsx)(o.ll,{children:"Quick Actions"})}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsx)(i.z,{className:"w-full",onClick:()=>l.push("/"),children:"Create New Presentation"}),(0,t.jsx)(i.z,{variant:"outline",className:"w-full",onClick:()=>l.push("/templates"),children:"Browse Templates"}),"enterprise"!==e.subscription_tier&&(0,t.jsx)(i.z,{variant:"outline",className:"w-full",onClick:()=>{var e;return null===(e=document.getElementById("subscription-section"))||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},children:"Upgrade Plan"})]})]})]}),(0,t.jsx)("div",{id:"subscription-section",className:"mt-8",children:(0,t.jsx)(N,{})})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,t.jsx)(x,{})})}},62869:function(e,s,a){"use strict";a.d(s,{z:function(){return o}});var t=a(57437),r=a(2265),n=a(37053),i=a(90535),l=a(94508);let c=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:a,variant:r,size:i,asChild:o=!1,...d}=e,m=o?n.g7:"button";return(0,t.jsx)(m,{className:(0,l.cn)(c({variant:r,size:i,className:a})),ref:s,...d})});o.displayName="Button"},66070:function(e,s,a){"use strict";a.d(s,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return c}});var t=a(57437),r=a(2265),n=a(94508);let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});i.displayName="Card";let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h3",{ref:s,className:(0,n.cn)("font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});o.displayName="CardDescription";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},95186:function(e,s,a){"use strict";a.d(s,{I:function(){return i}});var t=a(57437),r=a(2265),n=a(94508);let i=r.forwardRef((e,s)=>{let{className:a,type:r,...i}=e;return(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...i})});i.displayName="Input"},26815:function(e,s,a){"use strict";a.d(s,{_:function(){return o}});var t=a(57437),r=a(2265),n=a(6394),i=a(90535),l=a(94508);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.f,{ref:s,className:(0,l.cn)(c(),a),...r})});o.displayName=n.f.displayName},12339:function(e,s,a){"use strict";a.d(s,{SP:function(){return o},dr:function(){return c},mQ:function(){return l},nU:function(){return d}});var t=a(57437),r=a(2265),n=a(41312),i=a(94508);let l=n.fC,c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.aV,{ref:s,className:(0,i.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...r})});c.displayName=n.aV.displayName;let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...r})});o.displayName=n.xz.displayName;let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});d.displayName=n.VY.displayName},46281:function(e,s,a){"use strict";a.d(s,{AuthProvider:function(){return m},a:function(){return u}});var t=a(57437),r=a(2265),n=a(71545),i=a(25566);let l=i.env.NEXT_PUBLIC_SUPABASE_URL||"https://placeholder.supabase.co",c=i.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"placeholder-anon-key",o=(0,n.eI)(l,c),d=(0,r.createContext)(void 0);function m(e){let{children:s}=e,[a,n]=(0,r.useState)(null),[i,l]=(0,r.useState)({presentations_generated:0,presentations_exported:0,api_calls_made:0,images_generated:0,documents_processed:0}),[c,m]=(0,r.useState)({max_presentations_per_month:3,max_exports_per_month:3,max_api_calls_per_month:50,max_images_per_month:5,max_documents_per_month:2,can_use_custom_templates:!1,can_use_premium_templates:!1,can_export_pdf:!0,can_export_pptx:!0,max_file_upload_size_mb:10}),[u,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let{data:{session:e}}=await o.auth.getSession();e&&await h(e.access_token)}catch(e){console.error("Auth initialization error:",e)}finally{x(!1)}})();let{data:{subscription:e}}=o.auth.onAuthStateChange(async(e,s)=>{s?await h(s.access_token):(n(null),l({presentations_generated:0,presentations_exported:0,api_calls_made:0,images_generated:0,documents_processed:0}))});return()=>{e.unsubscribe()}},[]);let h=async e=>{try{localStorage.setItem("auth_token",e);let s=await fetch("/api/v1/user/me",{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();n(e.user),l(e.usage),m(e.limits)}}catch(e){console.error("Failed to fetch user data:",e)}},p=async(e,s)=>{let{data:a,error:t}=await o.auth.signInWithPassword({email:e,password:s});if(t)throw t;a.session&&await h(a.session.access_token)},f=async(e,s,a)=>{let{data:t,error:r}=await o.auth.signUp({email:e,password:s,options:{data:{full_name:a}}});if(r)throw r;t.session&&await h(t.session.access_token)},j=async()=>{let{error:e}=await o.auth.signOut();if(e)throw e;localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),n(null),l({presentations_generated:0,presentations_exported:0,api_calls_made:0,images_generated:0,documents_processed:0})},_=async()=>{let{data:{session:e}}=await o.auth.getSession();e&&await h(e.access_token)},g=async()=>{var e;let{data:s}=await o.auth.getSession();return(null===(e=s.session)||void 0===e?void 0:e.access_token)||null},v=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=await g();if(!a)return!1;try{let t=await fetch("/api/v1/user/usage/check/".concat(e,"?amount=").concat(s),{headers:{Authorization:"Bearer ".concat(a)}});if(t.ok)return(await t.json()).allowed;return!1}catch(e){return console.error("Failed to check usage limit:",e),!1}};return(0,t.jsx)(d.Provider,{value:{user:a,usage:i,limits:c,loading:u,signIn:p,signUp:f,signOut:j,refreshUser:_,getAuthToken:g,checkUsageLimit:v},children:s})}function u(){let e=(0,r.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},94508:function(e,s,a){"use strict";a.d(s,{cn:function(){return n}});var t=a(61994),r=a(53335);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.m6)((0,t.W)(s))}}},function(e){e.O(0,[3335,9908,4438,5302,3909,1545,2710,2971,2117,1744],function(){return e(e.s=78862)}),_N_E=e.O()}]);