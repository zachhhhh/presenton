(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6563],{43405:function(e,t,r){Promise.resolve().then(r.bind(r,59921))},7309:function(e,t,r){"use strict";r.d(t,{default:function(){return f}});var n=r(57437),l=r(97367);r(2265);var s=r(27648),o=r(20653),a=r(99376),i=()=>{let e=(0,a.useRouter)();return(0,n.jsx)("button",{onClick:()=>e.back(),className:"bg-white-900 border border-white/20 hover:border-white/60 transition-all duration-200 rounded-full p-2",children:(0,n.jsx)(o.Y4O,{className:"w-5 h-5 text-white"})})},c=r(76190),u=r(62598),d=r(89291),h=r(56295),f=()=>{let e=(0,a.usePathname)();return(0,n.jsx)("div",{className:"bg-[#5146E5] w-full shadow-lg sticky top-0 z-50",children:(0,n.jsx)(l.Z,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between py-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:["/upload"!==e&&"/dashboard"!==e&&(0,n.jsx)(i,{}),(0,n.jsx)(s.default,{href:"/dashboard",onClick:()=>(0,h.L9)(h.j7.Navigation,{from:e,to:"/dashboard"}),children:(0,n.jsx)("img",{src:"/logo-white.png",alt:"Presentation logo",className:"h-16"})})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsxs)(s.default,{href:"/custom-template",prefetch:!1,onClick:()=>(0,h.L9)(h.j7.Navigation,{from:e,to:"/custom-template"}),className:"flex items-center gap-2 px-3 py-2 text-white hover:bg-primary/80 rounded-md transition-colors outline-none",role:"menuitem",children:[(0,n.jsx)(u.Z,{className:"w-5 h-5"}),(0,n.jsx)("span",{className:"text-sm font-medium font-inter",children:"Create Template"})]}),(0,n.jsxs)(s.default,{href:"/template-preview",prefetch:!1,onClick:()=>(0,h.L9)(h.j7.Navigation,{from:e,to:"/template-preview"}),className:"flex items-center gap-2 px-3 py-2 text-white hover:bg-primary/80 rounded-md transition-colors outline-none",role:"menuitem",children:[(0,n.jsx)(d.Z,{className:"w-5 h-5"}),(0,n.jsx)("span",{className:"text-sm font-medium font-inter",children:"Templates"})]}),(0,n.jsx)(c.Z,{})]})]})})})}},59921:function(e,t,r){"use strict";r.d(t,{default:function(){return y}});var n=r(57437),l=r(2265),s=r(93022),o=r(43747),a=r(61482),i=r(91626),c=r(68575),u=r(99376),d=r(62869),h=r(14438),f=r(57970),m=e=>{let{content:t}=e,[r,s]=(0,l.useState)("");return(0,l.useEffect)(()=>{(async()=>{try{let e=await f.TU.parse(t);s(e)}catch(e){console.error("Error parsing markdown:",e),s("")}})()},[t]),(0,n.jsx)("div",{className:"prose prose-slate max-w-none mb-10",dangerouslySetInnerHTML:{__html:r}})};r(90776);let p=e=>{var t,r;let n=null!==(r=null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase())&&void 0!==r?r:"";if("pdf"==n)return"/pdf.svg";if("docx"==n);else if("pptx"==n)return"/ppt.svg";return"/report.png"};var g=r(32489),x=r(5871),v=r(10407),b=r(73350),w=r(7309),j=r(56295),y=()=>{let e=(0,c.I0)(),t=(0,u.useRouter)(),r=(0,u.usePathname)(),f=(0,l.useRef)(null),{config:y,files:C}=(0,c.v9)(e=>e.pptGenUpload),[N,A]=(0,l.useState)({}),[k,E]=(0,l.useState)(null),[_,O]=(0,l.useState)([]),[T,S]=(0,l.useState)(!0),[P,Z]=(0,l.useState)({message:"",show:!1,duration:10,progress:!1}),z=(0,l.useMemo)(()=>C&&Array.isArray(C)&&0!==C.length?C.flat().filter(e=>e&&e.name&&e.file_path):[],[C]),I=(0,l.useMemo)(()=>z.map(e=>e.name),[z]),L=e=>{E(e),f.current&&(f.current.value=N[e]||"")},M=async e=>(await fetch("/api/read-file",{method:"POST",body:JSON.stringify({filePath:e})})).json(),R=async()=>{let e=[],t=[];if(I.forEach(r=>{if(!(r in N)){e.push(r);let n=z.find(e=>e.name===r);n&&t.push(M(n.file_path))}}),t.length>0){O(e);try{let r=await Promise.all(t);A(t=>{let n={...t};return e.forEach((e,t)=>{n[e]=r[t].content||""}),n})}catch(e){console.error("Error reading files:",e),h.Am.error("Failed to read document content")}O([])}},D=async()=>{try{var n,l;Z({message:"Generating presentation outline...",show:!0,duration:40,progress:!0});let s=z.map(e=>e.file_path);(0,j.L9)(j.j7.DocumentsPreview_Create_Presentation_API_Call);let o=await a.f.createPresentation({content:null!==(n=null==y?void 0:y.prompt)&&void 0!==n?n:"",n_slides:(null==y?void 0:y.slides)?parseInt(y.slides):null,file_paths:s,language:null!==(l=null==y?void 0:y.language)&&void 0!==l?l:"",tone:null==y?void 0:y.tone,verbosity:null==y?void 0:y.verbosity,instructions:(null==y?void 0:y.instructions)||null,include_table_of_contents:!!(null==y?void 0:y.includeTableOfContents),include_title_slide:!!(null==y?void 0:y.includeTitleSlide),web_search:!!(null==y?void 0:y.webSearch)});e((0,i.TZ)(o.id)),(0,j.L9)(j.j7.Navigation,{from:r,to:"/outline"}),t.replace("/outline")}catch(e){console.error("Error in radar presentation creation:",e),h.Am.error("Error",{description:e.message||"Error in radar presentation creation."}),Z({message:"Error in radar presentation creation.",show:!0,duration:10,progress:!1})}finally{Z({message:"",show:!1,duration:10,progress:!1})}};return(0,l.useEffect)(()=>{I.length>0&&(E(I[0]),R())},[I]),(0,n.jsxs)("div",{className:"bg-white/90 min-h-screen flex flex-col w-full",children:[(0,n.jsx)(o.E,{show:P.show,text:P.message,showProgress:P.progress,duration:P.duration}),(0,n.jsx)(w.default,{}),(0,n.jsxs)("div",{className:"flex mt-6 gap-4 font-instrument_sans",children:[!T&&(0,n.jsx)("div",{className:"fixed left-4 top-1/2 -translate-y-1/2 z-50",children:(0,n.jsx)(b.Z,{content:"Open Panel",children:(0,n.jsx)(d.z,{onClick:()=>S(!0),className:"bg-[#5146E5] text-white p-3 shadow-lg",children:(0,n.jsx)(x.Z,{className:"text-white",size:20})})})}),T?(0,n.jsxs)("div",{className:"border-r border-gray-200 fixed xl:relative w-full z-50 xl:z-auto\n        transition-all duration-300 bg-white ease-in-out max-w-[200px] md:max-w-[300px] h-[85vh] rounded-md p-5",children:[(0,n.jsx)(g.Z,{onClick:()=>S(!1),className:"text-black mb-4 ml-auto mr-0 cursor-pointer hover:text-gray-600",size:20}),I.length>0&&(0,n.jsxs)("div",{className:"mt-8",children:[(0,n.jsx)("p",{className:"text-xs mt-2 text-[#2E2E2E] opacity-70",children:"DOCUMENTS"}),(0,n.jsx)("div",{className:"flex flex-col gap-2 mt-6",children:I.map(e=>{var t;return(0,n.jsxs)("div",{onClick:()=>L(e),className:"".concat(k===e?"border border-blue-500":""," flex p-2 rounded-sm gap-2 items-center cursor-pointer"),children:[(0,n.jsx)("img",{className:"h-6 w-6 border border-gray-200",src:p(e),alt:"Document icon"}),(0,n.jsx)("span",{className:"text-sm h-6 text-[#2E2E2E] overflow-hidden",children:null!==(t=e.split("/").pop())&&void 0!==t?t:"file.txt"})]},e)})})]})]}):null,(0,n.jsx)("div",{className:"bg-white w-full mx-2 sm:mx-4 h-[calc(100vh-100px)] custom_scrollbar rounded-md overflow-y-auto py-6 pl-6",children:k&&I.includes(k)?(0,n.jsx)("div",{className:"h-full mr-4",children:(0,n.jsx)("div",{className:"overflow-y-auto custom_scrollbar h-full",children:(0,n.jsxs)("div",{className:"h-full w-full max-w-full flex flex-col mb-5",children:[(0,n.jsx)("h1",{className:"text-2xl font-medium mb-5",children:"Content:"}),_.includes(k)?(0,n.jsx)(s.O,{className:"w-full h-full"}):(0,n.jsx)(m,{content:N[k]||""})]})})}):null}),(0,n.jsx)("div",{className:"fixed bottom-5 right-5",children:(0,n.jsxs)(d.z,{onClick:D,className:"flex items-center gap-2 px-8 py-6 rounded-sm text-md bg-[#5146E5] hover:bg-[#5146E5]/90",children:[(0,n.jsx)("span",{className:"text-white font-semibold",children:"Next"}),(0,n.jsx)(v.Z,{})]})})]})]})}},84025:function(e,t,r){"use strict";r.d(t,{P:function(){return n},V:function(){return l}});let n=()=>{let e=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),t={"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"};return e&&(t.Authorization="Bearer ".concat(e)),t},l=()=>{let e=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),t={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"};return e&&(t.Authorization="Bearer ".concat(e)),t}},93022:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});var n=r(57437),l=r(94508);function s(e){let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-primary/10",t),...r})}},10407:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},5871:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]])},32489:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},90776:function(e){!function(){"use strict";var t={114:function(e){function t(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",l=0,s=-1,o=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else if(47===r)break;else r=47;if(47===r){if(s===a-1||1===o);else if(s!==a-1&&2===o){if(n.length<2||2!==l||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2)){if(n.length>2){var i=n.lastIndexOf("/");if(i!==n.length-1){-1===i?(n="",l=0):l=(n=n.slice(0,i)).length-1-n.lastIndexOf("/"),s=a,o=0;continue}}else if(2===n.length||1===n.length){n="",l=0,s=a,o=0;continue}}t&&(n.length>0?n+="/..":n="..",l=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),l=a-s-1;s=a,o=0}else 46===r&&-1!==o?++o:o=-1}return n}var n={resolve:function(){for(var e,n,l="",s=!1,o=arguments.length-1;o>=-1&&!s;o--)o>=0?n=arguments[o]:(void 0===e&&(e=""),n=e),t(n),0!==n.length&&(l=n+"/"+l,s=47===n.charCodeAt(0));return(l=r(l,!s),s)?l.length>0?"/"+l:"/":l.length>0?l:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),l=47===e.charCodeAt(e.length-1);return(0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&l&&(e+="/"),n)?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var l=arguments[r];t(l),l.length>0&&(void 0===e?e=l:e+="/"+l)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e))===(r=n.resolve(r)))return"";for(var l=1;l<e.length&&47===e.charCodeAt(l);++l);for(var s=e.length,o=s-l,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var i=r.length-a,c=o<i?o:i,u=-1,d=0;d<=c;++d){if(d===c){if(i>c){if(47===r.charCodeAt(a+d))return r.slice(a+d+1);if(0===d)return r.slice(a+d)}else o>c&&(47===e.charCodeAt(l+d)?u=d:0===d&&(u=0));break}var h=e.charCodeAt(l+d);if(h!==r.charCodeAt(a+d))break;47===h&&(u=d)}var f="";for(d=l+u+1;d<=s;++d)(d===s||47===e.charCodeAt(d))&&(0===f.length?f+="..":f+="/..");return f.length>0?f+r.slice(a+u):(a+=u,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,l=-1,s=!0,o=e.length-1;o>=1;--o)if(47===(r=e.charCodeAt(o))){if(!s){l=o;break}}else s=!1;return -1===l?n?"/":".":n&&1===l?"//":e.slice(0,l)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw TypeError('"ext" argument must be a string');t(e);var n,l=0,s=-1,o=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,i=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!o){l=n+1;break}}else -1===i&&(o=!1,i=n+1),a>=0&&(c===r.charCodeAt(a)?-1==--a&&(s=n):(a=-1,s=i))}return l===s?s=i:-1===s&&(s=e.length),e.slice(l,s)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){l=n+1;break}}else -1===s&&(o=!1,s=n+1);return -1===s?"":e.slice(l,s)},extname:function(e){t(e);for(var r=-1,n=0,l=-1,s=!0,o=0,a=e.length-1;a>=0;--a){var i=e.charCodeAt(a);if(47===i){if(!s){n=a+1;break}continue}-1===l&&(s=!1,l=a+1),46===i?-1===r?r=a:1!==o&&(o=1):-1!==r&&(o=-1)}return -1===r||-1===l||0===o||1===o&&r===l-1&&r===n+1?"":e.slice(r,l)},format:function(e){var t,r;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+r:t+"/"+r:r},parse:function(e){t(e);var r,n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var l=e.charCodeAt(0),s=47===l;s?(n.root="/",r=1):r=0;for(var o=-1,a=0,i=-1,c=!0,u=e.length-1,d=0;u>=r;--u){if(47===(l=e.charCodeAt(u))){if(!c){a=u+1;break}continue}-1===i&&(c=!1,i=u+1),46===l?-1===o?o=u:1!==d&&(d=1):-1!==o&&(d=-1)}return -1===o||-1===i||0===d||1===d&&o===i-1&&o===a+1?-1!==i&&(0===a&&s?n.base=n.name=e.slice(1,i):n.base=n.name=e.slice(a,i)):(0===a&&s?(n.name=e.slice(1,o),n.base=e.slice(1,i)):(n.name=e.slice(a,o),n.base=e.slice(a,i)),n.ext=e.slice(o,i)),a>0?n.dir=e.slice(0,a-1):s&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n}},r={};function n(e){var l=r[e];if(void 0!==l)return l.exports;var s=r[e]={exports:{}},o=!0;try{t[e](s,s.exports,n),o=!1}finally{o&&delete r[e]}return s.exports}n.ab="//";var l=n(114);e.exports=l}()}},function(e){e.O(0,[1601,8310,3335,3889,9908,1455,4438,2972,5302,2661,8153,7372,4536,7115,2971,2117,1744],function(){return e(e.s=43405)}),_N_E=e.O()}]);