(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3129],{60329:function(e,t,r){Promise.resolve().then(r.bind(r,7309)),Promise.resolve().then(r.bind(r,98305))},7309:function(e,t,r){"use strict";r.d(t,{default:function(){return m}});var n=r(57437),a=r(97367);r(2265);var s=r(27648),o=r(20653),i=r(99376),l=()=>{let e=(0,i.useRouter)();return(0,n.jsx)("button",{onClick:()=>e.back(),className:"bg-white-900 border border-white/20 hover:border-white/60 transition-all duration-200 rounded-full p-2",children:(0,n.jsx)(o.Y4O,{className:"w-5 h-5 text-white"})})},c=r(76190),u=r(62598),d=r(89291),f=r(56295),m=()=>{let e=(0,i.usePathname)();return(0,n.jsx)("div",{className:"bg-[#5146E5] w-full shadow-lg sticky top-0 z-50",children:(0,n.jsx)(a.Z,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between py-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:["/upload"!==e&&"/dashboard"!==e&&(0,n.jsx)(l,{}),(0,n.jsx)(s.default,{href:"/dashboard",onClick:()=>(0,f.L9)(f.j7.Navigation,{from:e,to:"/dashboard"}),children:(0,n.jsx)("img",{src:"/logo-white.png",alt:"Presentation logo",className:"h-16"})})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsxs)(s.default,{href:"/custom-template",prefetch:!1,onClick:()=>(0,f.L9)(f.j7.Navigation,{from:e,to:"/custom-template"}),className:"flex items-center gap-2 px-3 py-2 text-white hover:bg-primary/80 rounded-md transition-colors outline-none",role:"menuitem",children:[(0,n.jsx)(u.Z,{className:"w-5 h-5"}),(0,n.jsx)("span",{className:"text-sm font-medium font-inter",children:"Create Template"})]}),(0,n.jsxs)(s.default,{href:"/template-preview",prefetch:!1,onClick:()=>(0,f.L9)(f.j7.Navigation,{from:e,to:"/template-preview"}),className:"flex items-center gap-2 px-3 py-2 text-white hover:bg-primary/80 rounded-md transition-colors outline-none",role:"menuitem",children:[(0,n.jsx)(d.Z,{className:"w-5 h-5"}),(0,n.jsx)("span",{className:"text-sm font-medium font-inter",children:"Templates"})]}),(0,n.jsx)(c.Z,{})]})]})})})}},99185:function(e,t,r){"use strict";r.d(t,{A:function(){return n}});let n=e=>{(e=>{e.forEach(e=>{if(!e)return;let t=e.includes("fonts.googleapis")?e:"https://localhost:5000".concat(e);if(document.querySelector('style[data-font-url="'.concat(t,'"]')))return;let r=document.createElement("style");r.setAttribute("data-font-url",t),r.textContent="@import url('".concat(t,"');"),document.head.appendChild(r)})})(e)}},98305:function(e,t,r){"use strict";r.d(t,{default:function(){return Y}});var n=r(57437),a=r(2265),s=r(12339),o=r(68575),i=r(43747),l=r(97367),c=r(10795),u=r(93662),d=r(59892),f=r(18930),m=r(91626),p=r(73350),h=r(63200),x=r(54603),g=r(35349);function v(e){let{content:t,onChange:r}=e,a=(0,h.jE)({extensions:[x.Z,g.U],content:t,editorProps:{attributes:{class:"outline-none transition-all duration-200"}},onUpdate:e=>{let{editor:t}=e;r(t.storage.markdown.getMarkdown())},immediatelyRender:!1});return(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)(h.kg,{className:"text-sm sm:text-base outline-none resize-none min-h-[60px] prose prose-sm max-w-none",editor:a,placeholder:"Enter markdown content here..."})})}var y=r(57970);function b(e){let{index:t,slideOutline:r,isStreaming:s,isActiveStreaming:i=!1,isStableStreaming:l=!1}=e,{outlines:c}=(0,o.v9)(e=>e.presentationGeneration),h=(0,o.I0)();(0,a.useEffect)(()=>{if(s&&r){let e=document.getElementById("outline-item-".concat(t));e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}},[c.length]);let x=e=>{if(s)return;let r=null==c?void 0:c.map((r,n)=>n===t-1?{content:e}:r);r&&h((0,m.Q8)(r))},{attributes:g,listeners:b,setNodeRef:j,transform:w,transition:_,isDragging:N}=(0,u.nB)({id:t}),S={transform:d.ux.Transform.toString(w),transition:_},[k,P]=(0,a.useState)(""),C=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(!s||!i)return;let e=r.content||"";return C.current&&window.clearTimeout(C.current),C.current=window.setTimeout(()=>{try{P(y.TU.parse(e))}catch(e){P("")}},60),()=>{C.current&&window.clearTimeout(C.current)}},[s,i,r.content]);let O=(0,a.useMemo)(()=>{if(!s||i||!l)return null;try{return y.TU.parse(r.content||"")}catch(e){return null}},[s,i,l,r.content]);return(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsxs)("div",{ref:j,style:S,className:"flex items-start gap-2 md:gap-4 p-2 sm:pr-4 border border-black/10 bg-purple-100/10 rounded-[8px] ".concat(N?"opacity-50":""),children:[(0,n.jsxs)("div",{...g,...b,className:"min-w-8 sm:min-w-10 w-10 sm:w-14 h-10 sm:h-14 bg-blue-400/10 rounded-[8px] flex items-center justify-center relative cursor-grab",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-[2px]",children:[(0,n.jsx)("div",{className:"w-[3px] h-[3px] bg-black/80 rounded-full"}),(0,n.jsx)("div",{className:"w-[3px] h-[3px] bg-black/80 rounded-full"}),(0,n.jsx)("div",{className:"w-[3px] h-[3px] bg-black/80 rounded-full"}),(0,n.jsx)("div",{className:"w-[3px] h-[3px] bg-black/80 rounded-full"})]}),(0,n.jsx)("span",{className:"text-black/80 text-md sm:text-lg font-medium ml-1",children:t})]}),(0,n.jsx)("div",{id:"outline-item-".concat(t),className:"flex flex-col basis-full gap-2",children:s?i?(0,n.jsx)("div",{className:"text-sm flex-1 font-normal prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:k||""}}):O?(0,n.jsx)("div",{className:"text-sm flex-1 font-normal prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:O}}):(0,n.jsx)("p",{className:"text-sm  flex-1 font-normal",children:r.content||""}):(0,n.jsx)(v,{content:r.content||"",onChange:e=>x(e)},t)}),(0,n.jsx)("div",{className:"flex gap-1 sm:gap-2 items-center",children:(0,n.jsx)(p.Z,{content:"Delete Slide",children:(0,n.jsx)("button",{onClick:()=>{s||h((0,m.Fh)({index:t-1}))},className:"p-1.5 sm:p-2 bg-gray-200/50 hover:bg-gray-200 rounded-lg transition-colors",children:(0,n.jsx)(f.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 text-black/70"})})})})]})})}var j=r(62869),w=r(51817),_=r(48736),N=r(99376),S=r(56295),k=e=>{let{outlines:t,isLoading:r,isStreaming:a,activeSlideIndex:s,highestActiveIndex:o,onDragEnd:i,onAddSlide:l}=e,d=(0,c.Dy)((0,c.VT)(c.we),(0,c.VT)(c.Lg,{coordinateGetter:u.is})),f=(0,N.usePathname)();return(0,n.jsxs)("div",{className:"space-y-6 font-instrument_sans",children:[r&&(!t||0===t.length)&&(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-blue-200 bg-blue-50 text-blue-600 px-2 py-0.5 text-xs",children:[(0,n.jsx)(w.Z,{className:"h-3 w-3 animate-spin"}),"Thinking"]})}),r&&(0,n.jsx)("div",{className:"space-y-4",children:[...Array(6)].map((e,t)=>(0,n.jsx)("div",{className:"animate-pulse",children:(0,n.jsxs)("div",{className:"flex items-start space-x-3 p-4 border rounded-lg bg-white",children:[(0,n.jsx)("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex-shrink-0"}),(0,n.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,n.jsx)("div",{className:"h-5 bg-gray-200 rounded w-3/4"}),(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("div",{className:"h-4 bg-gray-100 rounded w-full"}),(0,n.jsx)("div",{className:"h-4 bg-gray-100 rounded w-5/6"}),(0,n.jsx)("div",{className:"h-4 bg-gray-100 rounded w-4/6"})]})]}),(0,n.jsx)("div",{className:"w-5 h-5 bg-gray-200 rounded flex-shrink-0"})]})},t))}),t&&t.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)(c.LB,{sensors:d,collisionDetection:c.pE,onDragEnd:i,children:a?t.map((e,t)=>(0,n.jsx)(b,{index:t+1,slideOutline:e,isStreaming:a,isActiveStreaming:s===t,isStableStreaming:o>=0&&t<o},"slide-".concat(t))):(0,n.jsx)(u.Fo,{items:(null==t?void 0:t.map((e,t)=>({id:"slide-".concat(t)})))||[],strategy:u.qw,children:null==t?void 0:t.map((e,t)=>(0,n.jsx)(b,{index:t+1,slideOutline:e,isStreaming:a,isActiveStreaming:!1,isStableStreaming:!1},"slide-".concat(t)))})}),(0,n.jsx)(j.z,{variant:"outline",onClick:()=>{(0,S.L9)(S.j7.Outline_Add_Slide_Button_Clicked,{pathname:f}),l()},disabled:r||a,className:"w-full my-4 text-blue-600 border-blue-200",children:"+ Add Slide"})]}),!a&&!r&&t&&0===t.length&&(0,n.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg border-2 border-dashed border-gray-200",children:[(0,n.jsx)(_.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600 mb-4",children:"No outlines available"}),(0,n.jsx)(j.z,{variant:"outline",onClick:()=>{(0,S.L9)(S.j7.Outline_Add_Slide_Button_Clicked,{pathname:f}),l()},className:"text-blue-600 border-blue-200",children:"+ Add First Slide"})]})]})},P=r(99397);let C=(0,r(79205).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var O=()=>{let e=(0,N.useRouter)();return(0,n.jsx)(l.Z,{children:(0,n.jsx)("div",{className:"max-w-[800px] h-[calc(100vh-72px)] flex justify-center items-center mx-auto px-4 sm:px-6 pb-6",children:(0,n.jsxs)("div",{className:"text-center space-y-8",children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-50 to-indigo-100 rounded-full flex items-center justify-center",children:(0,n.jsx)(_.Z,{className:"w-12 h-12 text-indigo-600"})}),(0,n.jsx)("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,n.jsx)(P.Z,{className:"w-4 h-4 text-red-600"})})]})}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 font-instrument_sans",children:"No Presentation Found"}),(0,n.jsx)("p",{className:"text-lg text-gray-600 max-w-md mx-auto leading-relaxed",children:"It looks like the presentation you are looking for is not found. Let's create a brand new presentation!"})]}),(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsxs)(j.z,{onClick:()=>e.push("/upload"),className:"group bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-8 py-4 rounded-xl text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,n.jsx)(P.Z,{className:"w-5 h-5 mr-2"}),"Create New Presentation",(0,n.jsx)(C,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-200"})]})})]})})})},E=r(46281),T=e=>{let{loadingState:t,streamState:r,selectedTemplate:a,outlineCount:s,onSubmit:o}=e,i=(0,N.usePathname)(),{user:l,checkUsageLimit:c}=(0,E.a)(),u=t.isLoading||r.isLoading||r.isStreaming,d=async()=>{if(l&&!await c("presentations",1)){alert("You have reached your monthly presentation limit. Please upgrade your subscription to continue.");return}r.isLoading||r.isStreaming||(a?(0,S.L9)(S.j7.Outline_Generate_Presentation_Button_Clicked,{pathname:i}):(0,S.L9)(S.j7.Outline_Select_Template_Button_Clicked,{pathname:i})),o()};return(0,n.jsxs)(j.z,{disabled:u,onClick:d,className:"bg-[#5146E5] w-full rounded-lg text-base sm:text-lg py-4 sm:py-6 font-instrument_sans font-semibold hover:bg-[#5146E5]/80 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,n.jsxs)("svg",{className:"mr-2",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1960_939)",children:(0,n.jsx)("path",{d:"M21.217 9.57008L21.463 9.00408C21.8955 8.0028 22.6876 7.2 23.683 6.75408L24.442 6.41508C24.5341 6.37272 24.6121 6.30485 24.6668 6.21951C24.7214 6.13417 24.7505 6.03494 24.7505 5.93358C24.7505 5.83222 24.7214 5.73299 24.6668 5.64765C24.6121 5.56231 24.5341 5.49444 24.442 5.45208L23.725 5.13308C22.7046 4.67446 21.8989 3.84196 21.474 2.80708L21.221 2.19608C21.1838 2.10144 21.119 2.02018 21.035 1.96291C20.951 1.90563 20.8517 1.875 20.75 1.875C20.6483 1.875 20.549 1.90563 20.465 1.96291C20.381 2.02018 20.3162 2.10144 20.279 2.19608L20.026 2.80608C19.6015 3.84116 18.7962 4.67401 17.776 5.13308L17.058 5.45308C16.9662 5.49556 16.8885 5.56342 16.834 5.64865C16.7795 5.73389 16.7506 5.83293 16.7506 5.93408C16.7506 6.03523 16.7795 6.13428 16.834 6.21951C16.8885 6.30474 16.9662 6.3726 17.058 6.41508L17.818 6.75308C18.8132 7.19945 19.6049 8.00261 20.037 9.00408L20.283 9.57008C20.463 9.98408 21.036 9.98408 21.217 9.57008ZM6.55 16.8761H8.704L9.304 15.3761H12.196L12.796 16.8761H14.95L11.75 8.87608H9.75L6.55 16.8761ZM10.75 11.7611L11.396 13.3761H10.104L10.75 11.7611ZM15.75 16.8761V8.87608H17.75V16.8761H15.75ZM3.75 3.87608C3.48478 3.87608 3.23043 3.98144 3.04289 4.16897C2.85536 4.35651 2.75 4.61086 2.75 4.87608V20.8761C2.75 21.1413 2.85536 21.3957 3.04289 21.5832C3.23043 21.7707 3.48478 21.8761 3.75 21.8761H21.75C22.0152 21.8761 22.2696 21.7707 22.4571 21.5832C22.6446 21.3957 22.75 21.1413 22.75 20.8761V11.8761H20.75V19.8761H4.75V5.87608H14.75V3.87608H3.75Z",fill:"white"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1960_939",children:(0,n.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.75 0.876953)"})})})]}),t.isLoading?t.message:r.isLoading||r.isStreaming?"Loading...":a?"Generate Presentation (".concat(1*s," credits)"):"Select a Template"]})};let A={OUTLINE:"outline",LAYOUTS:"layouts"};var L=r(14438),I=r(90345);let Z=e=>{let t=(0,o.I0)(),{outlines:r}=(0,o.v9)(e=>e.presentationGeneration),[n,s]=(0,a.useState)(!0),[i,l]=(0,a.useState)(!0),[c,u]=(0,a.useState)(null),[d,f]=(0,a.useState)(-1),p=(0,a.useRef)([]),h=(0,a.useRef)(-1),x=(0,a.useRef)(-1);return(0,a.useEffect)(()=>{let n;if(!e||r.length>0)return;let a="";return(async()=>{s(!0),l(!0);try{(n=new EventSource("/api/v1/ppt/outlines/stream/".concat(e))).addEventListener("response",e=>{let r=JSON.parse(e.data);switch(r.type){case"chunk":a+=r.chunk;try{let e=(0,I.K)(a),r=JSON.parse(e);if(r.slides){let e=r.slides||[];try{let t=p.current||[],r=null,n=Math.max(t.length,e.length);for(let a=0;a<n;a++){var o,i;let n=null===(o=t[a])||void 0===o?void 0:o.content;(null===(i=e[a])||void 0===i?void 0:i.content)!==n&&(r=a)}let a=h.current,s=null!=r?r:a;s<a&&(s=a),h.current=s,u(s),s>x.current&&(x.current=s,f(s))}catch(e){}p.current=e,t((0,m.Q8)(e)),l(!1)}}catch(e){}break;case"complete":try{let e=r.presentation.outlines.slides;t((0,m.Q8)(e)),s(!1),l(!1),u(null),f(-1),p.current=e,h.current=-1,x.current=-1,n.close()}catch(e){console.error("Error parsing accumulated chunks:",e),L.Am.error("Failed to parse presentation data"),n.close()}a="";break;case"closing":s(!1),l(!1),u(null),f(-1),h.current=-1,x.current=-1,n.close();break;case"error":s(!1),l(!1),u(null),f(-1),h.current=-1,x.current=-1,n.close(),L.Am.error("Error in outline streaming",{description:r.detail||"Failed to connect to the server. Please try again."})}}),n.onerror=()=>{s(!1),l(!1),u(null),f(-1),h.current=-1,x.current=-1,n.close(),L.Am.error("Failed to connect to the server. Please try again.")}}catch(e){s(!1),l(!1),u(null),f(-1),h.current=-1,x.current=-1,L.Am.error("Failed to initialize connection")}})(),()=>{n&&n.close()}},[e,t]),{isStreaming:n,isLoading:i,activeSlideIndex:c,highestActiveIndex:d}},U=e=>{let t=(0,o.I0)();return{handleDragEnd:(0,a.useCallback)(r=>{let{active:n,over:a}=r;if(n&&a&&e&&n.id!==a.id){let r=e.findIndex(e=>e.content===n.id),s=e.findIndex(e=>e.content===a.id),o=(0,u.Rp)(e,r,s);t((0,m.Q8)(o))}},[e,t]),handleAddSlide:(0,a.useCallback)(()=>{if(!e)return;let r=[...e,{content:"Outline title"}];t((0,m.Q8)(r))},[e,t])}};var M=r(61482);let R={message:"",isLoading:!1,showProgress:!1,duration:0},z=(e,t,r,n)=>{let s=(0,o.I0)(),i=(0,N.useRouter)(),[l,c]=(0,a.useState)(R),u=(0,a.useCallback)(()=>t&&0!==t.length?r?!!r.slides.length||(L.Am.error("No Slide Schema found",{description:"Please select a Group before generating presentation"}),!1):(L.Am.error("Select Layout Group",{description:"Please select a layout group before generating presentation"}),!1):(L.Am.error("No Outlines",{description:"Please wait for outlines to load before generating presentation"}),!1),[t,r]),d=(0,a.useCallback)(()=>r?{name:r.name,ordered:r.ordered,slides:r.slides}:null,[r]);return{loadingState:l,handleSubmit:(0,a.useCallback)(async()=>{if(!r){n(A.LAYOUTS);return}if(u()){c({message:"Generating presentation data...",isLoading:!0,showProgress:!0,duration:30});try{let r=d();if(!r)return;(0,S.L9)(S.j7.Presentation_Prepare_API_Call),await M.f.presentationPrepare({presentation_id:e,outlines:t,layout:r})&&(s((0,m.Wv)()),i.replace("/presentation?id=".concat(e,"&stream=true")))}catch(e){console.error("Error In Presentation Generation(prepare).",e),L.Am.error("Generation Error",{description:e.message||"Error In Presentation Generation(prepare)."})}finally{c(R)}}},[u,d,e,t,s,i,r])}};var H=r(87462),B=r(41671),D=r(99185),F=e=>{let{template:t,onSelectTemplate:r,selectedTemplate:a}=e,{getFullDataByTemplateID:s,getCustomTemplateFonts:o}=(0,H.$)(),i=s(t.id),l=o(t.id.split("custom-")[1]);(0,D.A)(l||[]);let c=(0,N.usePathname)();return(0,n.jsxs)("div",{onClick:()=>{(0,S.L9)(S.j7.Group_Layout_Selected_Clicked,{pathname:c}),r(t)},className:"relative p-4 rounded-lg border cursor-pointer transition-all duration-200 ".concat((null==a?void 0:a.id)===t.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"),children:[(null==a?void 0:a.id)===t.id&&(0,n.jsx)("div",{className:"absolute top-3 right-3",children:(0,n.jsx)(B.Z,{className:"w-5 h-5 text-blue-500"})}),(0,n.jsxs)("div",{className:"mb-3 ",children:[(0,n.jsx)("h6",{className:"text-base capitalize font-medium text-gray-900 mb-1",children:t.name}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:t.description})]}),(0,n.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-3 min-h-[300px]",children:i&&(null==i?void 0:i.slice(0,4).map((e,t)=>{let{component:r,sampleData:a,layoutId:s,templateID:o}=e;return(0,n.jsxs)("div",{className:" relative cursor-pointer overflow-hidden aspect-video",children:[(0,n.jsx)("div",{className:"absolute cursor-pointer bg-transparent z-40 top-0 left-0 w-full h-full"}),(0,n.jsx)("div",{className:"transform scale-[0.2] flex justify-center items-center origin-top-left  w-[500%] h-[500%]",children:(0,n.jsx)(r,{data:a})})]},"".concat(o,"-").concat(t))}))}),(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,n.jsxs)("span",{children:[null==i?void 0:i.length," layouts"]}),(0,n.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(t.ordered?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"),children:t.ordered?"Structured":"Flexible"})]})]})},V=r(84025),G=e=>{let{selectedTemplate:t,onSelectTemplate:r}=e,{getLayoutsByTemplateID:s,getTemplateSetting:o,getAllTemplateIDs:i,getFullDataByTemplateID:l,loading:c}=(0,H.$)(),[u,d]=a.useState({});(0,a.useEffect)(()=>{fetch("/api/v1/ppt/template-management/summary",{headers:(0,V.P)()}).then(e=>e.json()).then(e=>{let t={};if(e&&Array.isArray(e.presentations))for(let a of e.presentations){var r,n;t["custom-".concat(a.presentation_id)]={lastUpdatedAt:a.last_updated_at?new Date(a.last_updated_at).getTime():0,name:null===(r=a.template)||void 0===r?void 0:r.name,description:null===(n=a.template)||void 0===n?void 0:n.description}}d(t)}).catch(()=>d({}))},[]);let f=a.useMemo(()=>{let e=i();return 0===e.length?[]:e.filter(e=>!l(e).some(e=>{var t;return(null==e?void 0:null===(t=e.component)||void 0===t?void 0:t.displayName)==="CustomTemplateErrorSlide"})).map(e=>{let t=o(e),r=u[e],n=e.toLowerCase().startsWith("custom-");return{id:e,name:n&&(null==r?void 0:r.name)?r.name:e,description:n&&(null==r?void 0:r.description)?r.description:(null==t?void 0:t.description)||"".concat(e," presentation templates"),ordered:(null==t?void 0:t.ordered)||!1,default:(null==t?void 0:t.default)||!1}}).sort((e,t)=>e.default&&!t.default?-1:!e.default&&t.default?1:e.name.localeCompare(t.name))},[i,s,o,l,u]),m=a.useMemo(()=>f.filter(e=>!e.id.toLowerCase().startsWith("custom-")),[f]),p=a.useMemo(()=>f.filter(e=>e.id.toLowerCase().startsWith("custom-")).sort((e,t)=>{var r,n;return((null===(r=u[t.id])||void 0===r?void 0:r.lastUpdatedAt)||0)-((null===(n=u[e.id])||void 0===n?void 0:n.lastUpdatedAt)||0)}),[f,u]);if((0,a.useEffect)(()=>{if(f.length>0&&!t){let e=f.find(e=>e.default)||f[0],t=s(e.id);r({...e,slides:t})}},[f,t,r]),(0,a.useEffect)(()=>{if(!c&&!document.querySelector('script[src*="tailwindcss.com"]')){let e=document.createElement("script");e.src="https://cdn.tailwindcss.com",e.async=!0,document.head.appendChild(e)}},[]),c)return(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(e=>(0,n.jsxs)("div",{className:"p-4 rounded-lg border border-gray-200 bg-gray-50 animate-pulse",children:[(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,n.jsx)("div",{className:"h-3 bg-gray-200 rounded mb-3"}),(0,n.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[1,2,3].map(e=>(0,n.jsx)("div",{className:"aspect-video bg-gray-200 rounded"},e))})]},e))})});if(0===f.length)return(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("h5",{className:"text-lg font-medium mb-2 text-gray-700",children:"No Templates Available"}),(0,n.jsx)("p",{className:"text-gray-600 text-sm",children:"No presentation templates could be loaded. Please try refreshing the page."})]})});let h=e=>{let t=s(e.id);r({...e,slides:t})};return(0,n.jsxs)("div",{className:"space-y-8 mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"In Built Templates"}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(e=>(0,n.jsx)(F,{template:e,onSelectTemplate:h,selectedTemplate:t},e.id))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Custom AI Templates"})}),0===p.length?(0,n.jsx)("div",{className:"text-sm text-gray-600 py-2",children:'No custom templates. Create one from "All Templates" menu.'}):(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(e=>(0,n.jsx)(F,{template:e,onSelectTemplate:h,selectedTemplate:t},e.id))})]})]})},Y=()=>{let{presentation_id:e,outlines:t}=(0,o.v9)(e=>e.presentationGeneration),[r,c]=(0,a.useState)(A.OUTLINE),[u,d]=(0,a.useState)(null),f=Z(e),{handleDragEnd:m,handleAddSlide:p}=U(t),{loadingState:h,handleSubmit:x}=z(e,t,u,c);return e?(0,n.jsxs)("div",{className:"h-[calc(100vh-72px)]",children:[(0,n.jsx)(i.E,{show:h.isLoading,text:h.message,showProgress:h.showProgress,duration:h.duration}),(0,n.jsxs)(l.Z,{className:"h-full flex flex-col w-full",children:[(0,n.jsx)("div",{className:"flex-grow overflow-y-hidden w-[1200px] mx-auto",children:(0,n.jsxs)(s.mQ,{value:r,onValueChange:c,className:"h-full flex flex-col",children:[(0,n.jsxs)(s.dr,{className:"grid w-[50%] mx-auto my-4 grid-cols-2",children:[(0,n.jsx)(s.SP,{value:A.OUTLINE,children:"Outline & Content"}),(0,n.jsx)(s.SP,{value:A.LAYOUTS,children:"Select Template"})]}),(0,n.jsxs)("div",{className:"flex-grow w-full mx-auto",children:[(0,n.jsx)(s.nU,{value:A.OUTLINE,className:"h-[calc(100vh-16rem)] overflow-y-auto custom_scrollbar",children:(0,n.jsx)("div",{children:(0,n.jsx)(k,{outlines:t,isLoading:f.isLoading,isStreaming:f.isStreaming,activeSlideIndex:f.activeSlideIndex,highestActiveIndex:f.highestActiveIndex,onDragEnd:m,onAddSlide:p})})}),(0,n.jsx)(s.nU,{value:A.LAYOUTS,className:"h-[calc(100vh-16rem)] overflow-y-auto custom_scrollbar",children:(0,n.jsx)("div",{children:(0,n.jsx)(G,{selectedTemplate:u,onSelectTemplate:d})})})]})]})}),(0,n.jsx)("div",{className:"py-4 border-t border-gray-200",children:(0,n.jsx)("div",{className:"max-w-[1200px] mx-auto",children:(0,n.jsx)(T,{outlineCount:t.length,loadingState:h,streamState:f,selectedTemplate:u,onSubmit:x})})})]})]}):(0,n.jsx)(O,{})}},12339:function(e,t,r){"use strict";r.d(t,{SP:function(){return c},dr:function(){return l},mQ:function(){return i},nU:function(){return u}});var n=r(57437),a=r(2265),s=r(41312),o=r(94508);let i=s.fC,l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.aV,{ref:t,className:(0,o.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r),...a})});l.displayName=s.aV.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.xz,{ref:t,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r),...a})});c.displayName=s.xz.displayName;let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.VY,{ref:t,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});u.displayName=s.VY.displayName},46281:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return d},a:function(){return f}});var n=r(57437),a=r(2265),s=r(71545),o=r(25566);let i=o.env.NEXT_PUBLIC_SUPABASE_URL||"https://placeholder.supabase.co",l=o.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"placeholder-anon-key",c=(0,s.eI)(i,l),u=(0,a.createContext)(void 0);function d(e){let{children:t}=e,[r,s]=(0,a.useState)(null),[o,i]=(0,a.useState)({presentations_generated:0,presentations_exported:0,api_calls_made:0,images_generated:0,documents_processed:0}),[l,d]=(0,a.useState)({max_presentations_per_month:3,max_exports_per_month:3,max_api_calls_per_month:50,max_images_per_month:5,max_documents_per_month:2,can_use_custom_templates:!1,can_use_premium_templates:!1,can_export_pdf:!0,can_export_pptx:!0,max_file_upload_size_mb:10}),[f,m]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let{data:{session:e}}=await c.auth.getSession();e&&await p(e.access_token)}catch(e){console.error("Auth initialization error:",e)}finally{m(!1)}})();let{data:{subscription:e}}=c.auth.onAuthStateChange(async(e,t)=>{t?await p(t.access_token):(s(null),i({presentations_generated:0,presentations_exported:0,api_calls_made:0,images_generated:0,documents_processed:0}))});return()=>{e.unsubscribe()}},[]);let p=async e=>{try{localStorage.setItem("auth_token",e);let t=await fetch("/api/v1/user/me",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();s(e.user),i(e.usage),d(e.limits)}}catch(e){console.error("Failed to fetch user data:",e)}},h=async(e,t)=>{let{data:r,error:n}=await c.auth.signInWithPassword({email:e,password:t});if(n)throw n;r.session&&await p(r.session.access_token)},x=async(e,t,r)=>{let{data:n,error:a}=await c.auth.signUp({email:e,password:t,options:{data:{full_name:r}}});if(a)throw a;n.session&&await p(n.session.access_token)},g=async()=>{let{error:e}=await c.auth.signOut();if(e)throw e;localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),s(null),i({presentations_generated:0,presentations_exported:0,api_calls_made:0,images_generated:0,documents_processed:0})},v=async()=>{let{data:{session:e}}=await c.auth.getSession();e&&await p(e.access_token)},y=async()=>{var e;let{data:t}=await c.auth.getSession();return(null===(e=t.session)||void 0===e?void 0:e.access_token)||null},b=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=await y();if(!r)return!1;try{let n=await fetch("/api/v1/user/usage/check/".concat(e,"?amount=").concat(t),{headers:{Authorization:"Bearer ".concat(r)}});if(n.ok)return(await n.json()).allowed;return!1}catch(e){return console.error("Failed to check usage limit:",e),!1}};return(0,n.jsx)(u.Provider,{value:{user:r,usage:o,limits:l,loading:f,signIn:h,signUp:x,signOut:g,refreshUser:v,getAuthToken:y,checkUsageLimit:b},children:t})}function f(){let e=(0,a.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},41671:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48736:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},5853:function(e,t,r){"use strict";r.r(t),r.d(t,{__addDisposableResource:function(){return Z},__assign:function(){return s},__asyncDelegator:function(){return S},__asyncGenerator:function(){return N},__asyncValues:function(){return k},__await:function(){return _},__awaiter:function(){return p},__classPrivateFieldGet:function(){return A},__classPrivateFieldIn:function(){return I},__classPrivateFieldSet:function(){return L},__createBinding:function(){return x},__decorate:function(){return i},__disposeResources:function(){return M},__esDecorate:function(){return c},__exportStar:function(){return g},__extends:function(){return a},__generator:function(){return h},__importDefault:function(){return T},__importStar:function(){return E},__makeTemplateObject:function(){return P},__metadata:function(){return m},__param:function(){return l},__propKey:function(){return d},__read:function(){return y},__rest:function(){return o},__rewriteRelativeImportExtension:function(){return R},__runInitializers:function(){return u},__setFunctionName:function(){return f},__spread:function(){return b},__spreadArray:function(){return w},__spreadArrays:function(){return j},__values:function(){return v}});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function i(e,t,r,n){var a,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,r,o):a(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t,r,n,a,s){function o(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var i,l=n.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f=!1,m=r.length-1;m>=0;m--){var p={};for(var h in n)p[h]="access"===h?{}:n[h];for(var h in n.access)p.access[h]=n.access[h];p.addInitializer=function(e){if(f)throw TypeError("Cannot add initializers after decoration has completed");s.push(o(e||null))};var x=(0,r[m])("accessor"===l?{get:d.get,set:d.set}:d[c],p);if("accessor"===l){if(void 0===x)continue;if(null===x||"object"!=typeof x)throw TypeError("Object expected");(i=o(x.get))&&(d.get=i),(i=o(x.set))&&(d.set=i),(i=o(x.init))&&a.unshift(i)}else(i=o(x))&&("field"===l?a.unshift(i):d[c]=i)}u&&Object.defineProperty(u,n.name,d),f=!0}function u(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function f(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function m(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,r,n){return new(r||(r=Promise))(function(a,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function i(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((n=n.apply(e,t||[])).next())})}function h(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=i(0),o.throw=i(1),o.return=i(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(l){return function(i){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var x=Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function g(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||x(t,e,r)}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return o}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function j(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],o=0,i=s.length;o<i;o++,a++)n[a]=s[o];return n}function w(e,t,r){if(r||2==arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function N(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),s=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){a[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||i(e,t)})},t&&(n[e]=t(n[e])))}function i(e,t){try{var r;(r=a[e](t)).value instanceof _?Promise.resolve(r.value.v).then(l,c):u(s[0][2],r)}catch(e){u(s[0][3],e)}}function l(e){i("next",e)}function c(e){i("throw",e)}function u(e,t){e(t),s.shift(),s.length&&i(s[0][0],s[0][1])}}function S(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:_(e[n](t)),done:!1}:a?a(t):t}:a}}function k(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=v(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,a,(t=e[r](t)).done,t.value)})}}}function P(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},O=function(e){return(O=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)};function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=O(e),n=0;n<r.length;n++)"default"!==r[n]&&x(t,e,r[n]);return C(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function L(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}function I(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function Z(e,t,r){if(null!=t){var n,a;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if("function"!=typeof n)throw TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var U="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function M(e){function t(t){e.error=e.hasError?new U(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function a(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(e){return t(e),a()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function R(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,a,s){return r?t?".jsx":".js":!n||a&&s?n+a+"."+s.toLowerCase()+"js":e}):e}t.default={__extends:a,__assign:s,__rest:o,__decorate:i,__param:l,__esDecorate:c,__runInitializers:u,__propKey:d,__setFunctionName:f,__metadata:m,__awaiter:p,__generator:h,__createBinding:x,__exportStar:g,__values:v,__read:y,__spread:b,__spreadArrays:j,__spreadArray:w,__await:_,__asyncGenerator:N,__asyncDelegator:S,__asyncValues:k,__makeTemplateObject:P,__importStar:E,__importDefault:T,__classPrivateFieldGet:A,__classPrivateFieldSet:L,__classPrivateFieldIn:I,__addDisposableResource:Z,__disposeResources:M,__rewriteRelativeImportExtension:R}}},function(e){e.O(0,[1601,8310,4337,3572,7902,3335,3889,9908,1455,4438,2972,5302,3142,2661,3909,1545,8153,6592,52,7372,4536,7462,7115,2971,2117,1744],function(){return e(e.s=60329)}),_N_E=e.O()}]);