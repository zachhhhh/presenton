(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1994],{27923:function(e,t,s){Promise.resolve().then(s.bind(s,95256))},99185:function(e,t,s){"use strict";s.d(t,{A:function(){return n}});let n=e=>{(e=>{e.forEach(e=>{if(!e)return;let t=e.includes("fonts.googleapis")?e:"https://localhost:5000".concat(e);if(document.querySelector('style[data-font-url="'.concat(t,'"]')))return;let s=document.createElement("style");s.setAttribute("data-font-url",t),s.textContent="@import url('".concat(t,"');"),document.head.appendChild(s)})})(e)}},95256:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return eP}});var n=s(57437),a=s(2265),i=s(68575),l=s(93022),r=s(74440),o=s(47416),d=s(32489),c=s(92451),u=s(10407),h=s(62869),m=s(88509),x=e=>{let{slides:t,currentSlide:s,isFullscreen:i,onFullscreenToggle:l,onExit:x,onSlideChange:p}=e,{renderSlideContent:f}=(0,m._)(),g=(0,a.useCallback)(e=>{switch(e.preventDefault(),e.key){case"ArrowRight":case"ArrowDown":case" ":s<t.length-1&&p(s+1);break;case"ArrowLeft":case"ArrowUp":s>0&&p(s-1);break;case"Escape":x();break;case"f":case"F":l()}},[s,t.length,p,x,l]);return(0,a.useEffect)(()=>{let e=e=>{["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"," "].includes(e.key)&&e.preventDefault(),g(e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[g]),(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&i&&l()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i,l]),(0,n.jsxs)("div",{className:"fixed inset-0 bg-black flex flex-col",tabIndex:0,onClick:e=>{if(e.target.closest(".presentation-controls"))return;let n=e.clientX,a=window.innerWidth;n<a/3?s>0&&p(s-1):n>2*a/3&&s<t.length-1&&p(s+1)},children:[!i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"presentation-controls absolute top-4 right-4 flex items-center gap-2 z-50",children:[(0,n.jsx)(h.z,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),l()},className:"text-white hover:bg-white/20",children:i?(0,n.jsx)(r.Z,{className:"h-5 w-5"}):(0,n.jsx)(o.Z,{className:"h-5 w-5"})}),(0,n.jsx)(h.z,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),x()},className:"text-white hover:bg-white/20",children:(0,n.jsx)(d.Z,{className:"h-5 w-5"})})]}),(0,n.jsxs)("div",{className:"presentation-controls absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-4 z-50",children:[(0,n.jsx)(h.z,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),p(s-1)},disabled:0===s,className:"text-white hover:bg-white/20",children:(0,n.jsx)(c.Z,{className:"h-5 w-5"})}),(0,n.jsxs)("span",{className:"text-white",children:[s+1," / ",t.length]}),(0,n.jsx)(h.z,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),p(s+1)},disabled:s===t.length-1,className:"text-white hover:bg-white/20",children:(0,n.jsx)(u.Z,{className:"h-5 w-5"})})]})]}),(0,n.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,n.jsx)("div",{className:"w-full max-w-[1280px] scale-110 aspect-video slide-theme slide-container border rounded-sm font-inter shadow-lg bg-white",children:t[s]&&f(t[s],!1)})})]})},p=s(5871),f=s(7449),g=s(60765),w=s(73350),y=s(10795),b=s(93662),j=s(91626),v=s(59892);function N(e){let{slide:t,index:s,selectedSlide:i,onSlideClick:l,renderSlideContent:r}=e,o=(0,a.useRef)(0),{attributes:d,listeners:c,setNodeRef:u,transform:h,transition:m,isDragging:x}=(0,b.nB)({id:t.id||"".concat(t.index)}),p={transform:v.ux.Transform.toString(h),transition:m,opacity:x?.5:1};return(0,n.jsx)("div",{ref:u,style:p,...d,...c,onClick:e=>{let s=Date.now();!(s-o.current<300)&&(x||(o.current=s,l(t.index)))},className:" cursor-pointer border-[3px] relative  p-1 shadow-lg   rounded-md transition-all duration-200 ".concat(i===s?" border-[#5141e5]":"border-gray-300"),children:(0,n.jsxs)("div",{className:" slide-box relative z-50  overflow-hidden aspect-video",children:[(0,n.jsx)("div",{className:"absolute bg-transparent z-50 top-0 left-0 w-full h-full"}),(0,n.jsx)("div",{className:"transform scale-[0.2] flex  pointer-events-none justify-center items-center origin-top-left  w-[500%] h-[500%]",children:r(t,!1)})]})})}function k(e){let{slide:t,index:s,selectedSlide:i,onSlideClick:l}=e,r=(0,a.useRef)(0),{attributes:o,listeners:d,setNodeRef:c,transform:u,transition:h,isDragging:m}=(0,b.nB)({id:t.id}),x={transform:v.ux.Transform.toString(u),transition:h,opacity:m?.5:1};return(0,n.jsx)("div",{ref:c,style:x,...o,...d,onClick:e=>{let s=Date.now();!(s-r.current<300)&&(m||(r.current=s,l(t.index)))},className:"p-3 cursor-pointer ring-0 border-[3px] rounded-lg slide-box\n                ".concat(i===s?" border-[#5141e5] ":"hover:slide-box/40 border-gray-300"),children:(0,n.jsxs)("span",{className:"font-medium slide-title",children:["Slide ",s+1]})})}var C=e=>{let{selectedSlide:t,onSlideClick:s,isMobilePanelOpen:l,setIsMobilePanelOpen:r,loading:o}=e,[c,u]=(0,a.useState)(!0),[x,v]=(0,a.useState)("grid"),{presentationData:C,isStreaming:S}=(0,i.v9)(e=>e.presentationGeneration),E=(0,i.I0)(),{renderSlideContent:P}=(0,m._)();(0,a.useEffect)(()=>{window.innerWidth<768&&u(l)},[l]);let _=(0,y.Dy)((0,y.VT)(y.we,{activationConstraint:{distance:8}}),(0,y.VT)(y.Lg,{coordinateGetter:b.is}));return C&&!o&&(null==C?void 0:C.slides)&&(null==C?void 0:C.slides.length)!==0?(0,n.jsxs)(n.Fragment,{children:[!c&&(0,n.jsx)("div",{className:"hidden xl:block fixed left-4 top-1/2 -translate-y-1/2 z-50",children:(0,n.jsx)(w.Z,{content:"Open Panel",children:(0,n.jsx)(h.z,{onClick:()=>u(!0),className:"bg-white hover:bg-gray-50 shadow-lg",children:(0,n.jsx)(p.Z,{className:"text-black",size:20})})})}),!l&&(0,n.jsx)("div",{className:"xl:hidden fixed left-4 bottom-4 z-50",children:(0,n.jsx)(w.Z,{content:"Show Panel",children:(0,n.jsx)(h.z,{onClick:()=>r(!0),className:"bg-[#5146E5] text-white p-3 rounded-full shadow-lg",children:(0,n.jsx)(p.Z,{className:"text-white",size:20})})})}),(0,n.jsx)("div",{className:"\n          fixed xl:relative h-full z-50 xl:z-auto\n          transition-all duration-300 ease-in-out\n          ".concat(c?"ml-0":"-ml-[300px]","\n          ").concat(l?"translate-x-0":"-translate-x-full xl:translate-x-0","\n        "),children:(0,n.jsxs)("div",{className:"min-w-[300px] bg-white max-w-[300px] h-[calc(100vh-120px)]  rounded-[20px] hide-scrollbar overflow-hidden slide-theme shadow-xl",children:[(0,n.jsx)("div",{className:"sticky top-0 z-40  px-6 py-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-start gap-4",children:[(0,n.jsx)(w.Z,{content:"Image Preview",children:(0,n.jsx)(h.z,{className:"".concat("grid"===x?"bg-[#5141e5] hover:bg-[#4638c7]":"bg-white hover:bg-white"),onClick:()=>{S||v("grid")},children:(0,n.jsx)(f.Z,{className:"".concat("grid"===x?"text-white":"text-black"),size:20})})}),(0,n.jsx)(w.Z,{content:"List Preview",children:(0,n.jsx)(h.z,{className:"".concat("list"===x?"bg-[#5141e5] hover:bg-[#4638c7]":"bg-white hover:bg-white"),onClick:()=>{S||v("list")},children:(0,n.jsx)(g.Z,{className:"".concat("list"===x?"text-white":"text-black"),size:20})})})]}),(0,n.jsx)(d.Z,{onClick:()=>{u(!1),window.innerWidth<768&&r(!1)},className:"text-[#6c7081] cursor-pointer hover:text-gray-600",size:20})]})}),(0,n.jsxs)(y.LB,{sensors:_,collisionDetection:y.pE,onDragEnd:e=>{let{active:t,over:s}=e;if(t&&s&&(null==C?void 0:C.slides)&&t.id!==s.id){let e=null==C?void 0:C.slides.findIndex(e=>e.id===t.id),n=null==C?void 0:C.slides.findIndex(e=>e.id===s.id),a=(0,b.Rp)(null==C?void 0:C.slides,e,n).map((e,t)=>({...e,index:t}));E((0,j.F5)({...C,slides:a}))}},children:["list"===x&&(0,n.jsx)("div",{className:"p-4 overflow-y-auto hide-scrollbar h-[calc(100%-100px)]",children:S?C&&(null==C?void 0:C.slides.map((e,t)=>(0,n.jsxs)("div",{className:"p-3 cursor-pointer rounded-lg slide-box",children:[(0,n.jsxs)("span",{className:"font-medium slide-title",children:["Slide ",t+1]}),(0,n.jsx)("p",{className:"text-sm slide-description",children:e.content.title})]},"".concat(t,"-").concat(e.type,"-").concat(e.id)))):(0,n.jsx)(b.Fo,{items:(null==C?void 0:C.slides.map(e=>e.id))||[],strategy:b.qw,children:(0,n.jsx)("div",{className:"space-y-2",id:"slide-".concat(t),children:C&&(null==C?void 0:C.slides.map((e,a)=>(0,n.jsx)(k,{slide:e,index:a,selectedSlide:t,onSlideClick:s},"".concat(e.id,"-").concat(a))))})})}),"grid"===x&&(0,n.jsx)("div",{className:"p-4 overflow-y-auto hide-scrollbar h-[calc(100%-100px)] space-y-4",children:S?C&&(null==C?void 0:C.slides.map((e,a)=>(0,n.jsx)("div",{onClick:()=>s(a),className:" cursor-pointer ring-2 p-1  rounded-md transition-all duration-200 ".concat(t===a?" ring-[#5141e5]":"ring-gray-200"),children:(0,n.jsxs)("div",{className:" bg-white pointer-events-none  relative overflow-hidden aspect-video",children:[(0,n.jsx)("div",{className:"absolute bg-gray-100/5 z-50  top-0 left-0 w-full h-full"}),(0,n.jsx)("div",{className:"transform scale-[0.2] flex justify-center items-center origin-top-left  w-[500%] h-[500%]",children:P(e,!1)})]})},"".concat(e.id,"-").concat(a)))):(0,n.jsx)(b.Fo,{items:(null==C?void 0:C.slides.map(e=>e.id||"".concat(e.index)))||[],strategy:b.qw,children:C&&(null==C?void 0:C.slides.map((e,a)=>(0,n.jsx)(N,{slide:e,index:a,selectedSlide:t,onSlideClick:s,renderSlideContent:e=>P(e,!1)},"".concat(e.id,"-").concat(a))))})})]})]})})]}):null},S=s(51817),E=s(99397),P=s(18930),_=s(62883),I=s(65698),A=s(57054),z=s(76818),Z=s(90245),D=s(14438),L=s(61482),F=s(99376),O=s(56295),R=s(87462),T=s(93837),J=e=>{let{setShowNewSlideSelection:t,templateID:s,index:a,presentationId:l}=e,r=(0,i.I0)(),o=(e,n)=>{try{let i={id:(0,T.Z)(),index:a,content:e,layout_group:s,layout:n,presentation:l};r((0,j.lO)({slideData:i,index:a})),t(!1)}catch(e){console.error(e),D.Am.error("Error adding new slide")}},{getFullDataByTemplateID:d,loading:c}=(0,R.$)(),u=d(s);return c?(0,n.jsxs)("div",{className:"my-6 w-full bg-gray-50 p-8 max-w-[1280px]",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold",children:"Select a Slide Layout"}),(0,n.jsx)(P.Z,{onClick:()=>t(!1),className:"text-gray-500 text-2xl cursor-pointer"})]}),(0,n.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,n.jsx)(S.Z,{className:"w-8 h-8 animate-spin text-gray-500"})})]}):(0,n.jsxs)("div",{className:"my-6 w-full bg-gray-50 p-8 max-w-[1280px]",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center  mb-8",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold",children:"Select a Slide Layout"}),(0,n.jsx)(P.Z,{onClick:()=>t(!1),className:"text-gray-500 text-2xl cursor-pointer"})]}),(0,n.jsx)("div",{className:"grid grid-cols-4 gap-4",children:u.map((e,t)=>{let{component:s,sampleData:a,layoutId:i}=e;return(0,n.jsxs)("div",{onClick:()=>o(a,i),className:" relative cursor-pointer overflow-hidden aspect-video",children:[(0,n.jsx)("div",{className:"absolute cursor-pointer bg-transparent z-40 top-0 left-0 w-full h-full"}),(0,n.jsx)("div",{className:"transform scale-[0.2] flex justify-center items-center origin-top-left  w-[500%] h-[500%]",children:(0,n.jsx)(s,{data:a})})]},"".concat(i,"-").concat(t))})})]})},H=s(99150),q=e=>{var t;let{slide:s,index:l,presentationId:r}=e,o=(0,i.I0)(),[d,c]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),{presentationData:x,isStreaming:p}=(0,i.v9)(e=>e.presentationGeneration),{renderSlideContent:f,loading:g}=(0,m._)(),y=(0,F.usePathname)(),b=async()=>{let e=document.getElementById("slide-".concat(s.index,"-prompt")),t=null==e?void 0:e.value;if(!(null==t?void 0:t.trim())){D.Am.error("Please enter a prompt before submitting");return}c(!0);try{(0,O.L9)(O.j7.Slide_Edit_API_Call);let e=await L.f.editSlide(s.id,t);e&&(o((0,j.jl)({index:s.index,slide:e})),D.Am.success("Slide updated successfully"))}catch(e){console.error("Error in slide editing:",e),D.Am.error("Error in slide editing.",{description:e.message||"Error in slide editing."})}finally{c(!1)}},v=async()=>{try{(0,O.L9)(O.j7.Slide_Delete_API_Call),o((0,H.G9)({slides:null==x?void 0:x.slides,actionType:"DELETE_SLIDE"})),o((0,j.tP)(s.index))}catch(e){console.error("Error deleting slide:",e),D.Am.error("Error deleting slide.",{description:e.message||"Error deleting slide."})}};(0,a.useEffect)(()=>{if(x&&(null==x?void 0:x.slides)&&x.slides.length>1&&p){let e=x.slides.length-1,t=document.getElementById("slide-".concat(x.slides[e].index));t&&t.scrollIntoView({behavior:"smooth",block:"center"})}},[null==x?void 0:null===(t=x.slides)||void 0===t?void 0:t.length,p]);let N=(0,a.useMemo)(()=>f(s,!p),[f,s,p]);return(0,a.useEffect)(()=>{if(!g&&s.layout.includes("custom")&&!document.querySelector('script[src*="tailwindcss.com"]')){let e=document.createElement("script");e.src="https://cdn.tailwindcss.com",e.async=!0,document.head.appendChild(e)}},[s,p,g]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{id:"slide-".concat(s.index),className:" w-full max-w-[1280px] main-slide flex items-center max-md:mb-4 justify-center relative",children:[p&&(0,n.jsx)(S.Z,{className:"w-8 h-8 absolute right-2 top-2 z-30 text-blue-800 animate-spin"}),(0,n.jsxs)("div",{"data-layout":s.layout,"data-group":s.layout_group,className:" w-full  group ",children:[g?(0,n.jsx)("div",{className:"flex flex-col bg-white aspect-video items-center justify-center h-full",children:(0,n.jsx)(S.Z,{className:"w-8 h-8 animate-spin"})}):N,!u&&(0,n.jsx)("div",{className:"group-hover:opacity-100 hidden md:block opacity-0 transition-opacity my-4 duration-300",children:(0,n.jsx)(w.Z,{content:"Add new slide below",children:!p&&!g&&(0,n.jsx)("div",{onClick:()=>{(0,O.L9)(O.j7.Slide_Add_New_Slide_Button_Clicked,{pathname:y}),h(!0)},className:"  bg-white shadow-md w-[80px] py-2 border hover:border-[#5141e5] duration-300  flex items-center justify-center rounded-lg cursor-pointer mx-auto",children:(0,n.jsx)(E.Z,{className:"text-gray-500 text-base cursor-pointer"})})})}),u&&!g&&(0,n.jsx)(J,{index:l,templateID:"".concat(s.layout.split(":")[0]),setShowNewSlideSelection:h,presentationId:r}),!p&&!g&&(0,n.jsx)(w.Z,{content:"Delete slide",children:(0,n.jsx)("div",{onClick:()=>{(0,O.L9)(O.j7.Slide_Delete_Slide_Button_Clicked,{pathname:y}),v()},className:"absolute top-2 z-20 sm:top-4 right-2 sm:right-4 hidden md:block  transition-transform",children:(0,n.jsx)(P.Z,{className:"text-gray-500 text-xl cursor-pointer"})})}),!p&&(0,n.jsx)("div",{className:"absolute top-2 z-20 sm:top-4 hidden md:block left-2 sm:left-4 transition-transform",children:(0,n.jsxs)(A.J2,{children:[(0,n.jsx)(A.xo,{children:(0,n.jsx)(w.Z,{content:"Update slide using prompt",children:(0,n.jsx)("div",{className:"p-2 group-hover:scale-105 rounded-lg bg-[#5141e5] hover:shadow-md transition-all duration-300 cursor-pointer shadow-md ",children:(0,n.jsx)(_.Z,{className:"w-4 sm:w-5 h-4 sm:h-5 text-white"})})})}),(0,n.jsx)(A.yk,{side:"right",align:"start",sideOffset:10,className:"w-[280px] sm:w-[400px] z-20",children:(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsxs)("form",{className:"flex flex-col gap-3",onSubmit:e=>{e.preventDefault(),b()},children:[(0,n.jsx)(z.g,{id:"slide-".concat(s.index,"-prompt"),placeholder:"Enter your prompt here...",className:"w-full min-h-[100px] max-h-[100px] p-2 text-sm border rounded-lg focus:outline-none focus-visible:ring-0 focus-visible:ring-offset-0",disabled:d,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b())},rows:4,wrap:"soft"}),(0,n.jsxs)("button",{disabled:d,type:"submit",className:"bg-gradient-to-r from-[#9034EA] to-[#5146E5] rounded-[32px] px-4 py-2 text-white flex items-center justify-end gap-2 ml-auto ".concat(d?"opacity-70 cursor-not-allowed":""),onClick:()=>{(0,O.L9)(O.j7.Slide_Update_From_Prompt_Button_Clicked,{pathname:y})},children:[d?"Updating...":"Update",(0,n.jsx)(Z.Z,{className:"w-4 sm:w-5 h-4 sm:h-5"})]})]})})})]})}),!p&&(null==s?void 0:s.speaker_note)&&(0,n.jsx)("div",{className:"absolute top-2 z-20 sm:top-4 right-8 sm:right-12 hidden md:block transition-transform",children:(0,n.jsxs)(A.J2,{children:[(0,n.jsx)(A.xo,{asChild:!0,children:(0,n.jsx)("div",{className:" cursor-pointer ",children:(0,n.jsx)(w.Z,{content:"Show speaker notes",children:(0,n.jsx)(I.Z,{className:"text-xl text-gray-500"})})})}),(0,n.jsx)(A.yk,{side:"left",align:"start",sideOffset:10,className:"w-[320px] z-30",children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("p",{className:"text-xs font-semibold text-gray-600",children:"Speaker notes"}),(0,n.jsx)("div",{className:"text-sm text-gray-800 whitespace-pre-wrap max-h-64 overflow-auto",children:s.speaker_note})]})})]})})]})]})})},U=s(14064),Y=s(18477),B=s(33276),W=s(14970),G=s(97367),K=s(43747),V=s(27648),X=()=>(0,n.jsx)("div",{className:"max-md:block hidden py-1 text-base font-inter text-center bg-green-100 font-semibold",children:"Want to edit? Use your computer to edit."}),$=s(76190),M={src:"/_next/static/media/pdf.c5f83269.svg",height:24,width:24,blurWidth:0,blurHeight:0},Q={src:"/_next/static/media/pptx.c838ad38.svg",height:24,width:24,blurWidth:0,blurHeight:0},ee=s(33145);let et=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=(0,a.useCallback)(s=>{let n=s.ctrlKey;e.includes(s.key.toLowerCase())&&n&&(s.preventDefault(),t(s))},[t,...s]);(0,a.useEffect)(()=>(document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}),[n])},es=()=>{let e=(0,i.I0)(),t=(0,i.v9)(e=>e.undoRedo),{presentationData:s}=(0,i.v9)(e=>e.presentationGeneration),n=t.past.length>0,l=t.future.length>0,r=(0,a.useCallback)(()=>{if(!n)return;let a=t.past[t.past.length-1];if(e((0,H.Yw)()),a){let t=JSON.parse(JSON.stringify(a.slides));e((0,j.F5)({...s,slides:t}))}setTimeout(()=>{e((0,H.$t)())},100)},[n,e,s,t.past]),o=(0,a.useCallback)(()=>{if(!l)return;let n=t.future[0];if(e((0,H.KX)()),n){let t=JSON.parse(JSON.stringify(n.slides));e((0,j.F5)({...s,slides:t}))}setTimeout(()=>{e((0,H.$t)())},100)},[l,e,s,t.future]);return et(["z"],n=>{if(n.ctrlKey&&!n.shiftKey&&t.past.length>0){n.preventDefault();let a=t.past[t.past.length-1];if(e((0,H.Yw)()),a){let t=JSON.parse(JSON.stringify(a.slides));e((0,j.F5)({...s,slides:t}))}setTimeout(()=>{e((0,H.$t)())},100)}},[t.past,s]),et(["z"],n=>{if(n.ctrlKey&&n.shiftKey&&t.future.length>0){n.preventDefault();let a=t.future[0];if(e((0,H.KX)()),a){let t=JSON.parse(JSON.stringify(a.slides));e((0,j.F5)({...s,slides:t}))}setTimeout(()=>{e((0,H.$t)())},100)}},[t.future,s]),{onUndo:r,onRedo:o,canUndo:n,canRedo:l}};var en=s(46281),ea=e=>{let{presentation_id:t,currentSlide:s}=e,[l,r]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!1),c=(0,F.useRouter)(),u=(0,F.usePathname)(),m=(0,i.I0)(),{user:x,checkUsageLimit:p}=(0,en.a)(),{presentationData:f,isStreaming:g}=(0,i.v9)(e=>e.presentationGeneration),{onUndo:y,onRedo:b,canUndo:v,canRedo:N}=es(),k=async e=>{let t=await fetch("/api/presentation_to_pptx_model?id=".concat(e));return await t.json()},C=async()=>{if(!g){if(x&&!await p("exports",1)){D.Am.error("Export limit exceeded",{description:"You have reached your monthly export limit. Please upgrade your subscription to continue."});return}try{r(!1),d(!0),(0,O.L9)(O.j7.Header_UpdatePresentationContent_API_Call),await L.f.updatePresentationContent(f),(0,O.L9)(O.j7.Header_GetPptxModel_API_Call);let e=await k(t);if(!e)throw Error("Failed to get presentation PPTX model");(0,O.L9)(O.j7.Header_ExportAsPPTX_API_Call);let s=await L.f.exportAsPPTX(e);if(s)_(s);else throw Error("No path returned from export")}catch(e){console.error("Export failed:",e),d(!1),D.Am.error("Having trouble exporting!",{description:"We are having trouble exporting your presentation. Please try again."})}finally{d(!1)}}},E=async()=>{if(!g){if(x&&!await p("exports",1)){D.Am.error("Export limit exceeded",{description:"You have reached your monthly export limit. Please upgrade your subscription to continue."});return}try{r(!1),d(!0),(0,O.L9)(O.j7.Header_UpdatePresentationContent_API_Call),await L.f.updatePresentationContent(f),(0,O.L9)(O.j7.Header_ExportAsPDF_API_Call);let e=await fetch("/api/export-as-pdf",{method:"POST",body:JSON.stringify({id:t,title:null==f?void 0:f.title})});if(e.ok){let{path:t}=await e.json();_(t)}else throw Error("Failed to export PDF")}catch(e){console.error(e),D.Am.error("Having trouble exporting!",{description:"We are having trouble exporting your presentation. Please try again."})}finally{d(!1)}}},P=()=>{m((0,j.Wv)()),m((0,H.QQ)()),(0,O.L9)(O.j7.Header_ReGenerate_Button_Clicked,{pathname:u}),c.push("/presentation?id=".concat(t,"&stream=true"))},_=e=>{if(window.opener)window.open(e,"_blank");else{let t=document.createElement("a");t.href=e,t.download=e.split("/").pop()||"download",document.body.appendChild(t),t.click()}},I=e=>{let{mobile:t}=e;return(0,n.jsxs)("div",{className:"space-y-2 max-md:mt-4 ".concat(t?"":"bg-white"," rounded-lg"),children:[(0,n.jsxs)(h.z,{onClick:()=>{(0,O.L9)(O.j7.Header_Export_PDF_Button_Clicked,{pathname:u}),E()},variant:"ghost",className:"pb-4 border-b rounded-none border-gray-300 w-full flex justify-start text-[#5146E5] ".concat(t?"bg-white py-6 border-none rounded-lg":""),children:[(0,n.jsx)(ee.default,{src:M,alt:"pdf export",width:30,height:30}),"Export as PDF"]}),(0,n.jsxs)(h.z,{onClick:()=>{(0,O.L9)(O.j7.Header_Export_PPTX_Button_Clicked,{pathname:u}),C()},variant:"ghost",className:"w-full flex justify-start text-[#5146E5] ".concat(t?"bg-white py-6":""),children:[(0,n.jsx)(ee.default,{src:Q,alt:"pptx export",width:30,height:30}),"Export as PPTX"]})]})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(K.E,{show:o,text:"Exporting presentation...",showProgress:!0,duration:40}),(0,n.jsxs)("div",{className:"bg-[#5146E5] w-full shadow-lg sticky top-0 ",children:[(0,n.jsx)(X,{}),(0,n.jsxs)(G.Z,{className:"flex items-center justify-between py-1",children:[(0,n.jsx)(V.default,{href:"/dashboard",className:"min-w-[162px]",children:(0,n.jsx)("img",{className:"h-16",src:"/logo-white.png",alt:"Presentation logo"})}),(0,n.jsxs)("div",{className:"hidden lg:flex items-center gap-4 2xl:gap-6",children:[g&&(0,n.jsx)(S.Z,{className:"animate-spin text-white font-bold w-6 h-6"}),(0,n.jsx)(e=>{let{mobile:a}=e;return(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[(0,n.jsx)("button",{onClick:P,disabled:g||!f,className:"text-white  disabled:opacity-50",children:"Re-Generate"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 ",children:[(0,n.jsx)(w.Z,{content:"Undo",children:(0,n.jsx)("button",{disabled:!v,className:"text-white disabled:opacity-50",onClick:()=>{y()},children:(0,n.jsx)(U.Z,{className:"w-6 h-6 "})})}),(0,n.jsx)(w.Z,{content:"Redo",children:(0,n.jsx)("button",{disabled:!N,className:"text-white disabled:opacity-50",onClick:()=>{b()},children:(0,n.jsx)(Y.Z,{className:"w-6 h-6 "})})})]}),(0,n.jsxs)(h.z,{onClick:()=>{let e="?id=".concat(t,"&mode=present&slide=").concat(s||0);(0,O.L9)(O.j7.Navigation,{from:u,to:e}),c.push(e)},variant:"ghost",className:"border border-white font-bold text-white rounded-[32px] transition-all duration-300 group",children:[(0,n.jsx)(B.Z,{className:"w-4 h-4 mr-1 stroke-white group-hover:stroke-black"}),"Present"]}),(0,n.jsx)("div",{style:{zIndex:100},className:"hidden lg:block relative ",children:(0,n.jsxs)(A.J2,{open:l,onOpenChange:r,children:[(0,n.jsx)(A.xo,{asChild:!0,children:(0,n.jsxs)(h.z,{className:"border py-5 text-[#5146E5] font-bold rounded-[32px] transition-all duration-500 hover:border hover:bg-[#5146E5] hover:text-white w-full ".concat(a?"":"bg-white"),children:[(0,n.jsx)(W.Z,{className:"w-4 h-4 mr-1"}),"Export"]})}),(0,n.jsx)(A.yk,{align:"end",className:"w-[250px] space-y-2 py-3 px-2 ",children:(0,n.jsx)(I,{mobile:!1})})]})}),(0,n.jsx)("div",{className:"lg:hidden flex flex-col w-full",children:(0,n.jsx)(I,{mobile:!0})})]})},{mobile:!1}),(0,n.jsx)($.Z,{})]}),(0,n.jsx)("div",{className:"lg:hidden flex items-center gap-4",children:(0,n.jsx)($.Z,{})})]})]})]})},ei=s(49322),el=s(29),er=s.n(el),eo=s(13134),ed=s(20653),ec=s(94508);let eu=eo.fC,eh=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(eo.ck,{ref:t,className:(0,ec.cn)("border-b",s),...a})});eh.displayName="AccordionItem";let em=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,n.jsx)(eo.h4,{className:"flex",children:(0,n.jsxs)(eo.xz,{ref:t,className:(0,ec.cn)("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...i,children:[a,(0,n.jsx)(ed.v4q,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})})});em.displayName=eo.xz.displayName;let ex=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,n.jsx)(eo.VY,{ref:t,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:(0,n.jsx)("div",{className:(0,ec.cn)("pb-4 pt-0",s),children:a})})});ex.displayName=eo.VY.displayName;var ep=s(75368),ef=s(73247);let eg=[{id:1,category:"Images",question:"How do I change an image?",answer:"Click on any image to reveal the image toolbar. You'll see options to Edit, Adjust position, and change how the image fits within its container. The Edit option allows you to replace or modify the current image."},{id:2,category:"Images",question:"Can I generate new images with AI?",answer:"Yes! Click on any image and select the Edit option from the toolbar. In the side panel that appears, you'll find the AI Generate tab. Enter your prompt describing the image you want, and our AI will generate an image based on your description."},{id:3,category:"Images",question:"How do I upload my own images?",answer:"Click on any image, then select Edit from the toolbar. In the side panel, click on the Upload tab at the top. You can browse your files to select one. Once uploaded, you can apply it to your design."},{id:11,category:"AI Prompts",question:"Can I change slide layout through prompt?",answer:"Yes you can! Click on the WandSparkles icon on the top left of each slide and it will give you a prompt input box. Describe your layout requirements and the AI will change the slide layout accordingly."},{id:12,category:"AI Prompts",question:"Can I change slide image through prompt?",answer:"Yes you can! Click on the WandSparkles icon on the top left of each slide and it will give you a prompt input box. Describe the image you want and the AI will update the slide image based on your requirements."},{id:14,category:"AI Prompts",question:"Can I change content through prompt?",answer:"Yes you can! Click on the WandSparkles icon on the top left of each slide and it will give you a prompt input box. Describe what content you want and the AI will update the slide's text and content based on your description."},{id:4,category:"Text",question:"How can I format and highlight text?",answer:"Select any text to see the formatting toolbar appear. You'll have options for Bold, Italic, Underline, Strikethrough,and more."},{id:5,category:"Icons",question:"How do I change icons?",answer:"Click on any existing icon to modify it. In the icon selector panel, you can browse icos or use the search function to find specific icons. We offer thousands of icons in various styles."},{id:16,category:"Layout",question:"Can I change the position of slide?",answer:"Of course, On side panel you can drag the slide and place wherever you want."},{id:15,category:"Layout",question:"Can I add new slide between the slide?",answer:"Yes you can just click on the plus icon below each slide.It will display the all the layouts and choose required one."},{id:6,category:"Layout",question:"Can I add more sections to my slides?",answer:"Absolutely! Hover near the bottom of any text box or content block, and you'll see a + icon appear. Click this button to add a new section below the current one. You can also use the Insert menu to add specific section types."},{id:8,category:"Export",question:"How do I download or export my presentation?",answer:"Click the Export button in the top right menu. You can choose to download as PDF, PowerPoint."}];var ew=()=>{let[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(""),[l,r]=(0,a.useState)(eg),[o,c]=(0,a.useState)([]),[u,h]=(0,a.useState)("All"),m=(0,a.useRef)(null);(0,a.useEffect)(()=>{c(["All",...Array.from(new Set(eg.map(e=>e.category)))])},[]),(0,a.useEffect)(()=>{let e=eg;if("All"!==u&&(e=e.filter(e=>e.category===u)),s.trim()){let t=s.toLowerCase();e=e.filter(e=>e.question.toLowerCase().includes(t)||e.answer.toLowerCase().includes(t))}r(e)},[s,u]),(0,a.useEffect)(()=>{let s=e=>{!m.current||m.current.contains(e.target)||e.target.closest(".help-button")||t(!1)};return e&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[e]);let x=e?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>{t(!e)},className:"help-button hidden fixed bottom-6 right-6 h-12 w-12 z-50 bg-emerald-600 hover:bg-emerald-700 rounded-full md:flex justify-center items-center cursor-pointer shadow-lg transition-all duration-300 hover:shadow-xl","aria-label":"Help Center",children:e?(0,n.jsx)(d.Z,{className:"text-white h-5 w-5"}):(0,n.jsx)(ep.Z,{className:"text-white h-5 w-5"})}),(0,n.jsx)("div",{className:"fixed bottom-20 right-6 z-50 max-w-md w-full transition-all duration-300 transform ".concat(x),ref:m,children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden",children:[(0,n.jsxs)("div",{className:"bg-emerald-600 text-white px-6 py-4 flex justify-between items-center",children:[(0,n.jsx)("h2",{className:"text-lg font-medium",children:"Help Center"}),(0,n.jsx)("button",{onClick:()=>t(!1),className:"hover:bg-emerald-700 p-1 rounded",children:(0,n.jsx)(d.Z,{className:"h-5 w-5"})})]}),(0,n.jsx)("div",{className:"px-6 pt-4 pb-2",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{type:"text",placeholder:"Search help topics...",value:s,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}),(0,n.jsx)(ef.Z,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})}),(0,n.jsx)("div",{className:"px-6 pb-3 flex gap-2 overflow-x-auto hide-scrollbar",children:o.map(e=>(0,n.jsx)("button",{onClick:()=>h(e),className:"px-3 py-1 rounded-full text-sm whitespace-nowrap ".concat(u===e?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))}),(0,n.jsx)("div",{className:"max-h-96 overflow-y-auto px-6 pb-6",children:l.length>0?(0,n.jsx)(eu,{type:"single",collapsible:!0,className:"w-full",children:l.map((e,t)=>(0,n.jsxs)(eh,{value:"item-".concat(t),className:"border-b border-gray-200 last:border-b-0",children:[(0,n.jsx)(em,{className:"hover:no-underline py-3 px-1 text-left flex",children:(0,n.jsxs)("div",{className:"flex-1 pr-2",children:[(0,n.jsx)("span",{className:"text-gray-900 font-medium text-sm md:text-base",children:e.question}),(0,n.jsx)("span",{className:"block text-xs text-emerald-600 mt-0.5",children:e.category})]})}),(0,n.jsx)(ex,{className:"px-1 pb-3",children:(0,n.jsx)("div",{className:"text-sm text-gray-600 leading-relaxed rounded bg-gray-50 p-3",children:e.answer})})]},t))}):(0,n.jsxs)("div",{className:"py-8 text-center text-gray-500",children:[(0,n.jsxs)("p",{children:['No results found for "',s,'"']}),(0,n.jsx)("button",{onClick:()=>{i(""),h("All")},className:"mt-2 text-emerald-600 hover:underline text-sm",children:"Clear search"})]})}),(0,n.jsxs)("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200 text-xs text-gray-500 text-center",children:["Still need help?"," ",(0,n.jsx)("a",{href:"/contact",className:"text-emerald-600 hover:underline",children:"Contact Support"})]})]})}),!em&&(0,n.jsx)(er(),{id:"34da2a81793bacf",children:'.accordion-trigger.jsx-34da2a81793bacf{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:.75rem 0;text-align:left;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.accordion-trigger.jsx-34da2a81793bacf:hover{background-color:rgba(0,0,0,.02)}.accordion-content.jsx-34da2a81793bacf{overflow:hidden;height:0;-webkit-transition:height.2s ease;-moz-transition:height.2s ease;-o-transition:height.2s ease;transition:height.2s ease}.accordion-content[data-state="open"].jsx-34da2a81793bacf{height:auto}'})]})},ey=s(90345);let eb=(e,t,s,n,l)=>{let r=(0,i.I0)(),o=(0,a.useRef)(0);(0,a.useEffect)(()=>{let a;let i="",d=async()=>{r((0,j.BJ)(!0)),r((0,j.Wv)()),(0,O.L9)(O.j7.Presentation_Stream_API_Call),(a=new EventSource("/api/v1/ppt/presentation/stream/".concat(e))).addEventListener("response",e=>{let t=JSON.parse(e.data);switch(t.type){case"chunk":i+=t.chunk;try{let e=(0,ey.K)(i),t=JSON.parse(e);t.slides&&t.slides.length!==o.current&&t.slides.length>0&&(r((0,j.F5)({...t,slides:t.slides})),o.current=t.slides.length,s(!1))}catch(e){}break;case"complete":try{r((0,j.F5)(t.presentation)),r((0,j.BJ)(!1)),s(!1),a.close();let e=new URL(window.location.href);e.searchParams.delete("stream"),window.history.replaceState({},"",e.toString())}catch(e){a.close(),console.error("Error parsing accumulated chunks:",e)}i="";break;case"closing":r((0,j.F5)(t.presentation)),s(!1),r((0,j.BJ)(!1)),a.close();let l=new URL(window.location.href);l.searchParams.delete("stream"),window.history.replaceState({},"",l.toString());break;case"error":a.close(),D.Am.error("Error in outline streaming",{description:t.detail||"Failed to connect to the server. Please try again."}),s(!1),r((0,j.BJ)(!1)),n(!0)}}),a.onerror=e=>{console.error("EventSource failed:",e),s(!1),r((0,j.BJ)(!1)),n(!0),a.close()}};return t?d():l(),()=>{a&&a.close()}},[e,t,r,s,n,l])};var ej=s(5045);let ev=(e,t,s)=>{let n=(0,i.I0)();return{fetchUserSlides:(0,a.useCallback)(async()=>{try{let s=await ej._.getPresentation(e);s&&(n((0,j.F5)(s)),n((0,H.QQ)()),t(!1))}catch(e){s(!0),D.Am.error("Failed to load presentation"),console.error("Error fetching user slides:",e),t(!1)}},[e,n,t,s])}},eN=(e,t,s,n)=>{let i=(0,F.useRouter)(),l=(0,F.useSearchParams)(),r="present"===l.get("mode"),o=l.get("stream"),d=parseInt(l.get("slide")||"".concat(t)||"0"),c=(0,a.useCallback)(e=>{let t=document.getElementById("slide-".concat(e));t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),s(e))},[s]);return{isPresentMode:r,stream:o,currentSlide:d,handleSlideClick:c,toggleFullscreen:(0,a.useCallback)(()=>{document.fullscreenElement?(document.exitFullscreen(),n(!1)):(document.documentElement.requestFullscreen(),n(!0))},[n]),handlePresentExit:(0,a.useCallback)(()=>{n(!1),i.push("/presentation?id=".concat(e))},[i,e,n]),handleSlideChange:(0,a.useCallback)((t,n)=>{t>=0&&t<(null==n?void 0:n.slides.length)&&(s(t),i.push("/presentation?id=".concat(e,"&mode=present&slide=").concat(t),{scroll:!1}))},[i,e,s])}},ek=function(){let{debounceMs:e=1e3,enabled:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,i.I0)(),{presentationData:n,isStreaming:l,isLoading:r,isLayoutLoading:o}=(0,i.v9)(e=>e.presentationGeneration),d=(0,a.useRef)(null),c=(0,a.useRef)(""),[u,h]=(0,a.useState)(!1),m=(0,a.useCallback)(async t=>{d.current&&clearTimeout(d.current),d.current=setTimeout(async()=>{if(!t||u)return;let e=JSON.stringify(t);if(e!==c.current)try{h(!0),console.log("\uD83D\uDD04 Auto-saving presentation data..."),await L.f.updatePresentationContent(t),c.current=e,console.log("✅ Auto-save successful")}catch(e){console.error("❌ Auto-save failed:",e)}finally{h(!1)}},e)},[e,u]);return(0,a.useEffect)(()=>{if(t&&n&&!l&&!r&&!o)return s((0,H.G9)({slides:n.slides,actionType:"AUTO_SAVE"})),m(n),()=>{d.current&&clearTimeout(d.current)}},[n,t,m,r,l,o]),{isSaving:u}};var eC=()=>{let[e,t]=(0,a.useState)(0),s=["We're crafting your presentation with AI magic ✨","Analyzing your content for perfect slides \uD83D\uDCCA","Organizing information for maximum impact \uD83C\uDFAF","Adding visual elements to engage your audience \uD83C\uDFA8","Almost there! Putting final touches ⚡️"];return(0,a.useEffect)(()=>{let e=setInterval(()=>{t(e=>(e+1)%s.length)},3e4);return()=>clearInterval(e)},[]),(0,n.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto w-[500px] flex flex-col items-center justify-center p-8",children:(0,n.jsx)("div",{className:"w-full bg-white rounded-xl p-[2px] ",children:(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full",children:[(0,n.jsx)("div",{className:"flex items-center justify-center space-x-4 ",children:(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:"Creating Your Presentation"})}),(0,n.jsx)("div",{className:"w-full max-w-md bg-white/80 backdrop-blur-sm rounded-xl shadow-sm p-6 mb-4",children:(0,n.jsx)("div",{className:"min-h-[120px] flex items-center justify-center",children:(0,n.jsx)("p",{className:"text-gray-700 text-lg text-center",children:s[e]})})}),(0,n.jsx)("div",{className:"w-full max-w-md",children:(0,n.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,n.jsx)("div",{className:"h-full bg-[#5141e5] rounded-full animate-progress"})})})]})})})},eS=s(99185),eE=e=>{let{presentation_id:t}=e,s=(0,F.usePathname)(),[r,o]=(0,a.useState)(!0),[d,c]=(0,a.useState)(0),[u,m]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[g,w]=(0,a.useState)(!1),{getCustomTemplateFonts:y}=(0,R.$)(),{presentationData:b,isStreaming:j}=(0,i.v9)(e=>e.presentationGeneration),{isSaving:v}=ek({debounceMs:2e3,enabled:!!b&&!j}),{fetchUserSlides:N}=ev(t,o,f),{isPresentMode:k,stream:E,handleSlideClick:P,toggleFullscreen:_,handlePresentExit:I,handleSlideChange:A}=eN(t,d,c,m);return(eb(t,E,o,f,N),es(),(0,a.useEffect)(()=>{if(!r&&!j&&(null==b?void 0:b.slides)&&(null==b?void 0:b.slides.length)>0){let e=y(null==b?void 0:b.slides[0].layout.split(":")[0].split("custom-")[1]);(0,eS.A)(e||[])}},[b,r,j]),k)?(0,n.jsx)(x,{slides:null==b?void 0:b.slides,currentSlide:d,isFullscreen:u,onFullscreenToggle:_,onExit:I,onSlideChange:e=>{A(e,b)}}):p?(0,n.jsx)("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100",children:(0,n.jsxs)("div",{className:"bg-white border border-red-300 text-red-700 px-6 py-8 rounded-lg shadow-lg flex flex-col items-center",role:"alert",children:[(0,n.jsx)(ei.Z,{className:"w-16 h-16 mb-4 text-red-500"}),(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),(0,n.jsx)("p",{className:"text-center mb-4",children:"We couldn't load your presentation. Please try again."}),(0,n.jsx)(h.z,{onClick:()=>{(0,O.L9)(O.j7.PresentationPage_Refresh_Page_Button_Clicked,{pathname:s}),window.location.reload()},children:"Refresh Page"})]})}):(0,n.jsxs)("div",{className:"h-screen flex overflow-hidden flex-col",children:[(0,n.jsx)("div",{className:"fixed right-6 top-[5.2rem] z-50",children:v&&(0,n.jsx)(S.Z,{className:"w-6 h-6 animate-spin text-blue-500"})}),(0,n.jsx)(ea,{presentation_id:t,currentSlide:d}),(0,n.jsx)(ew,{}),(0,n.jsxs)("div",{style:{background:"#c8c7c9"},className:"flex flex-1 relative pt-6",children:[(0,n.jsx)(C,{selectedSlide:d,onSlideClick:P,loading:r,isMobilePanelOpen:g,setIsMobilePanelOpen:w}),(0,n.jsx)("div",{className:"flex-1 h-[calc(100vh-100px)] overflow-y-auto",children:(0,n.jsx)("div",{id:"presentation-slides-wrapper",className:"mx-auto flex flex-col items-center overflow-hidden justify-center p-2 sm:p-6 pt-0",children:b&&!r&&(null==b?void 0:b.slides)&&(null==b?void 0:b.slides.length)!==0?(0,n.jsx)(n.Fragment,{children:b&&b.slides&&b.slides.length>0&&b.slides.map((e,s)=>(0,n.jsx)(q,{slide:e,index:s,presentationId:t},"".concat(e.type,"-").concat(s,"-").concat(e.index)))}):(0,n.jsxs)("div",{className:"relative w-full h-[calc(100vh-120px)] mx-auto",children:[(0,n.jsx)("div",{className:"",children:Array.from({length:2}).map((e,t)=>(0,n.jsx)(l.O,{className:"aspect-video bg-gray-400 my-4 w-full mx-auto max-w-[1280px]"},t))}),E&&(0,n.jsx)(eC,{})]})})})]})]})},eP=()=>{let e=(0,F.useRouter)(),t=(0,F.useSearchParams)().get("id");return t?(0,n.jsx)(eE,{presentation_id:t}):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"No presentation id found"}),(0,n.jsx)("p",{className:"text-gray-500 pb-4",children:"Please try again"}),(0,n.jsx)(h.z,{onClick:()=>e.push("/dashboard"),children:"Go to home"})]})}},57054:function(e,t,s){"use strict";s.d(t,{J2:function(){return r},xo:function(){return o},yk:function(){return d}});var n=s(57437),a=s(2265),i=s(27312),l=s(94508);let r=i.fC,o=i.xz;i.ee;let d=a.forwardRef((e,t)=>{let{className:s,align:a="center",sideOffset:r=4,...o}=e;return(0,n.jsx)(i.h_,{children:(0,n.jsx)(i.VY,{ref:t,align:a,sideOffset:r,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...o})})});d.displayName=i.VY.displayName},99150:function(e,t,s){"use strict";s.d(t,{$t:function(){return d},G9:function(){return l},KX:function(){return o},QQ:function(){return c},Yw:function(){return r}});var n=s(1455);let a=e=>JSON.parse(JSON.stringify(e)),i=(0,n.oM)({name:"undoRedo",initialState:{past:[],present:null,future:[],maxHistorySize:30,isUndoRedoInProgress:!1},reducers:{addToHistory:(e,t)=>{if(e.isUndoRedoInProgress)return;let s=a(t.payload.slides);if(!e.present){e.present={slides:s,timestamp:Date.now(),actionType:t.payload.actionType};return}JSON.stringify(e.present.slides)!==JSON.stringify(s)&&(e.past.push(e.present),e.past.length>e.maxHistorySize&&e.past.shift(),e.future=[],e.present={slides:s,timestamp:Date.now(),actionType:t.payload.actionType})},undo:e=>{if(0===e.past.length)return;e.isUndoRedoInProgress=!0,e.present&&e.future.unshift(a(e.present));let t=e.past[e.past.length-1];e.past=e.past.slice(0,-1),e.present=a(t)},redo:e=>{if(0===e.future.length)return;e.isUndoRedoInProgress=!0,e.present&&e.past.push(a(e.present));let t=e.future[0];e.future=e.future.slice(1),e.present=a(t)},finishUndoRedo:e=>{e.isUndoRedoInProgress=!1},clearHistory:e=>{e.past=[],e.future=[],e.present=null}}}),{addToHistory:l,undo:r,redo:o,finishUndoRedo:d,clearHistory:c}=i.actions;t.ZP=i.reducer}},function(e){e.O(0,[1601,8310,4337,3572,7902,3335,3889,9908,1455,4438,2972,5302,3142,2661,9027,3909,1545,8153,6592,52,8334,4536,7462,7115,3175,2971,2117,1744],function(){return e(e.s=27923)}),_N_E=e.O()}]);