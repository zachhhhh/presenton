(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7425],{71781:function(e,t,a){Promise.resolve().then(a.bind(a,18276))},99185:function(e,t,a){"use strict";a.d(t,{A:function(){return r}});let r=e=>{(e=>{e.forEach(e=>{if(!e)return;let t=e.includes("fonts.googleapis")?e:"https://localhost:5000".concat(e);if(document.querySelector('style[data-font-url="'.concat(t,'"]')))return;let a=document.createElement("style");a.setAttribute("data-font-url",t),a.textContent="@import url('".concat(t,"');"),document.head.appendChild(a)})})(e)}},18276:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var r=a(57437),s=a(2265),n=a(62869),o=a(99376),c=a(68575),i=a(93022),l=a(14438),d=a(56295),h=a(49322),u=a(91626),p=a(5045),m=a(87462),f=a(99185),y=a(88509),g=e=>{let{presentation_id:t}=e,{renderSlideContent:a,loading:g}=(0,y._)(),w=(0,o.usePathname)(),[x,v]=(0,s.useState)(!0),{getCustomTemplateFonts:P}=(0,m.$)(),b=(0,c.I0)(),{presentationData:j}=(0,c.v9)(e=>e.presentationGeneration),[N,S]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!g&&(null==j?void 0:j.slides)&&(null==j?void 0:j.slides.length)>0){let e=P(null==j?void 0:j.slides[0].layout.split(":")[0].split("custom-")[1]);(0,f.A)(e||[])}},[j,g]),(0,s.useEffect)(()=>{if((null==j?void 0:j.slides[0].layout.includes("custom"))&&!document.querySelector('script[src*="tailwindcss.com"]')){let e=document.createElement("script");e.src="https://cdn.tailwindcss.com",e.async=!0,document.head.appendChild(e)}},[j]),(0,s.useEffect)(()=>{E()},[]);let E=async()=>{try{let e=await p._.getPresentation(t);b((0,u.F5)(e)),v(!1)}catch(e){S(!0),l.Am.error("Failed to load presentation"),console.error("Error fetching user slides:",e),v(!1)}};return(0,r.jsx)("div",{className:"flex overflow-hidden flex-col",children:N?(0,r.jsx)("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100",children:(0,r.jsxs)("div",{className:"bg-white border border-red-300 text-red-700 px-6 py-8 rounded-lg shadow-lg flex flex-col items-center",role:"alert",children:[(0,r.jsx)(h.Z,{className:"w-16 h-16 mb-4 text-red-500"}),(0,r.jsx)("strong",{className:"font-bold text-4xl mb-2",children:"Oops!"}),(0,r.jsx)("p",{className:"block text-2xl py-2",children:"We encountered an issue loading your presentation."}),(0,r.jsx)("p",{className:"text-lg py-2",children:"Please check your internet connection or try again later."}),(0,r.jsx)(n.z,{className:"mt-4 bg-red-500 text-white hover:bg-red-600 focus:ring-4 focus:ring-red-300",onClick:()=>{(0,d.L9)(d.j7.PdfMaker_Retry_Button_Clicked,{pathname:w}),window.location.reload()},children:"Retry"})]})}):(0,r.jsx)("div",{className:"",children:(0,r.jsx)("div",{id:"presentation-slides-wrapper",className:"mx-auto flex flex-col items-center  overflow-hidden  justify-center   ",children:j&&!g&&!x&&(null==j?void 0:j.slides)&&(null==j?void 0:j.slides.length)!==0?(0,r.jsx)(r.Fragment,{children:j&&j.slides&&j.slides.length>0&&j.slides.map((e,t)=>(0,r.jsx)("div",{className:"w-full","data-speaker-note":e.speaker_note,children:a(e,!0)},t))}):(0,r.jsx)("div",{className:"relative w-full h-[calc(100vh-120px)] mx-auto ",children:(0,r.jsx)("div",{className:" ",children:Array.from({length:2}).map((e,t)=>(0,r.jsx)(i.O,{className:"aspect-video bg-gray-400 my-4 w-full mx-auto max-w-[1280px]"},t))})})})})})},w=()=>{let e=(0,o.useRouter)(),t=(0,o.useSearchParams)().get("id");return t?(0,r.jsx)(g,{presentation_id:t}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"No presentation id found"}),(0,r.jsx)("p",{className:"text-gray-500 pb-4",children:"Please try again"}),(0,r.jsx)(n.z,{onClick:()=>e.push("/dashboard"),children:"Go to home"})]})}},79875:function(e,t,a){"use strict";a.d(t,{z:function(){return r}});class r{static async handleResponse(e,t){if(e.ok){if(204===e.status)return!0;try{return await e.json()}catch(e){return{}}}let a=t;try{let t=await e.json();t.detail?a=t.detail:t.message?a=t.message:t.error&&(a=t.error)}catch(r){a=this.getStatusBasedErrorMessage(e.status,t)}throw Error(a)}static async handleResponseWithResult(e,t){try{if(e.ok)return{success:!0};let a=t;try{let t=await e.json();t.detail?a=t.detail:t.message?a=t.message:t.error&&(a=t.error)}catch(r){a=this.getStatusBasedErrorMessage(e.status,t)}return{success:!1,message:a}}catch(e){return{success:!1,message:e instanceof Error?e.message:t}}}static getStatusBasedErrorMessage(e,t){switch(e){case 400:return"Bad request. Please check your input and try again.";case 401:return"Unauthorized. Please log in and try again.";case 403:return"Access forbidden. You don't have permission to perform this action.";case 404:return"Resource not found. The requested item may have been deleted or moved.";case 409:return"Conflict. The resource already exists or there's a conflict with the current state.";case 422:return"Validation error. Please check your input and try again.";case 429:return"Too many requests. Please wait a moment and try again.";case 500:return"Internal server error. Please try again later.";case 502:return"Bad gateway. The server is temporarily unavailable.";case 503:return"Service unavailable. Please try again later.";case 504:return"Gateway timeout. The request took too long to process.";default:return t}}}},61482:function(e,t,a){"use strict";a.d(t,{f:function(){return n}});var r=a(84025),s=a(79875);class n{static async uploadDoc(e){let t=new FormData;e.forEach(e=>{t.append("files",e)});try{let e=await fetch("/api/v1/ppt/files/upload",{method:"POST",headers:(0,r.V)(),body:t,cache:"no-cache"});return await s.z.handleResponse(e,"Failed to upload documents")}catch(e){throw console.error("Upload error:",e),e}}static async decomposeDocuments(e){try{let t=await fetch("/api/v1/ppt/files/decompose",{method:"POST",headers:(0,r.P)(),body:JSON.stringify({file_paths:e}),cache:"no-cache"});return await s.z.handleResponse(t,"Failed to decompose documents")}catch(e){throw console.error("Error in Decompose Files",e),e}}static async createPresentation(e){let{content:t,n_slides:a,file_paths:n,language:o,tone:c,verbosity:i,instructions:l,include_table_of_contents:d,include_title_slide:h,web_search:u}=e;try{let e=await fetch("/api/v1/ppt/presentation/create",{method:"POST",headers:(0,r.P)(),body:JSON.stringify({content:t,n_slides:a,file_paths:n,language:o,tone:c,verbosity:i,instructions:l,include_table_of_contents:d,include_title_slide:h,web_search:u}),cache:"no-cache"});return await s.z.handleResponse(e,"Failed to create presentation")}catch(e){throw console.error("error in presentation creation",e),e}}static async editSlide(e,t){try{let a=await fetch("/api/v1/ppt/slide/edit",{method:"POST",headers:(0,r.P)(),body:JSON.stringify({id:e,prompt:t}),cache:"no-cache"});return await s.z.handleResponse(a,"Failed to update slide")}catch(e){throw console.error("error in slide update",e),e}}static async updatePresentationContent(e){try{let t=await fetch("/api/v1/ppt/presentation/update",{method:"PATCH",headers:(0,r.P)(),body:JSON.stringify(e),cache:"no-cache"});return await s.z.handleResponse(t,"Failed to update presentation content")}catch(e){throw console.error("error in presentation content update",e),e}}static async presentationPrepare(e){try{let t=await fetch("/api/v1/ppt/presentation/prepare",{method:"POST",headers:(0,r.P)(),body:JSON.stringify(e),cache:"no-cache"});return await s.z.handleResponse(t,"Failed to prepare presentation")}catch(e){throw console.error("error in data generation",e),e}}static async generateImage(e){try{let t=await fetch("/api/v1/ppt/images/generate?prompt=".concat(e.prompt),{method:"GET",headers:(0,r.P)(),cache:"no-cache"});return await s.z.handleResponse(t,"Failed to generate image")}catch(e){throw console.error("error in image generation",e),e}}static async searchIcons(e){try{let t=await fetch("/api/v1/ppt/icons/search?query=".concat(e.query,"&limit=").concat(e.limit),{method:"GET",headers:(0,r.P)(),cache:"no-cache"});return await s.z.handleResponse(t,"Failed to search icons")}catch(e){throw console.error("error in icon search",e),e}}static async exportAsPPTX(e){try{let t=await fetch("/api/v1/ppt/presentation/export/pptx",{method:"POST",headers:(0,r.P)(),body:JSON.stringify(e),cache:"no-cache"});return await s.z.handleResponse(t,"Failed to export as PowerPoint")}catch(e){throw console.error("error in pptx export",e),e}}}n.getPreviousGeneratedImages=async()=>{try{let e=await fetch("/api/v1/ppt/images/generated",{method:"GET",headers:(0,r.P)()});return await s.z.handleResponse(e,"Failed to get previous generated images")}catch(e){throw console.error("error in getting previous generated images",e),e}}}},function(e){e.O(0,[1601,8310,4337,3572,7902,3335,3889,9908,1455,4438,5302,3142,9027,3909,1545,6592,110,4536,7462,3175,2971,2117,1744],function(){return e(e.s=71781)}),_N_E=e.O()}]);