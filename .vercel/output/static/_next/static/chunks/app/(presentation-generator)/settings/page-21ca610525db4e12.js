(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4351],{71218:function(e,s,t){Promise.resolve().then(t.bind(t,79420))},76190:function(e,s,t){"use strict";var a=t(57437),n=t(25466),i=t(98728);t(2265);var l=t(27648),o=t(99376),r=t(56295),d=t(68575);s.Z=()=>{let e=(0,d.v9)(e=>e.userConfig.can_change_keys),s=(0,o.usePathname)();return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(l.default,{href:"/dashboard",prefetch:!1,className:"flex items-center gap-2 px-3 py-2 text-white hover:bg-primary/80 rounded-md transition-colors outline-none",role:"menuitem",onClick:()=>(0,r.L9)(r.j7.Navigation,{from:s,to:"/dashboard"}),children:[(0,a.jsx)(n.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-sm font-medium font-inter",children:"Dashboard"})]}),e&&(0,a.jsxs)(l.default,{href:"/settings",prefetch:!1,className:"flex items-center gap-2 px-3 py-2 text-white hover:bg-primary/80 rounded-md transition-colors outline-none",role:"menuitem",onClick:()=>(0,r.L9)(r.j7.Navigation,{from:s,to:"/settings"}),children:[(0,a.jsx)(i.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-sm font-medium font-inter",children:"Settings"})]})]})}},7309:function(e,s,t){"use strict";t.d(s,{default:function(){return x}});var a=t(57437),n=t(97367);t(2265);var i=t(27648),l=t(20653),o=t(99376),r=()=>{let e=(0,o.useRouter)();return(0,a.jsx)("button",{onClick:()=>e.back(),className:"bg-white-900 border border-white/20 hover:border-white/60 transition-all duration-200 rounded-full p-2",children:(0,a.jsx)(l.Y4O,{className:"w-5 h-5 text-white"})})},d=t(76190),c=t(62598),u=t(89291),m=t(56295),x=()=>{let e=(0,o.usePathname)();return(0,a.jsx)("div",{className:"bg-[#5146E5] w-full shadow-lg sticky top-0 z-50",children:(0,a.jsx)(n.Z,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between py-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:["/upload"!==e&&"/dashboard"!==e&&(0,a.jsx)(r,{}),(0,a.jsx)(i.default,{href:"/dashboard",onClick:()=>(0,m.L9)(m.j7.Navigation,{from:e,to:"/dashboard"}),children:(0,a.jsx)("img",{src:"/logo-white.png",alt:"Presentation logo",className:"h-16"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(i.default,{href:"/custom-template",prefetch:!1,onClick:()=>(0,m.L9)(m.j7.Navigation,{from:e,to:"/custom-template"}),className:"flex items-center gap-2 px-3 py-2 text-white hover:bg-primary/80 rounded-md transition-colors outline-none",role:"menuitem",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-sm font-medium font-inter",children:"Create Template"})]}),(0,a.jsxs)(i.default,{href:"/template-preview",prefetch:!1,onClick:()=>(0,m.L9)(m.j7.Navigation,{from:e,to:"/template-preview"}),className:"flex items-center gap-2 px-3 py-2 text-white hover:bg-primary/80 rounded-md transition-colors outline-none",role:"menuitem",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-sm font-medium font-inter",children:"Templates"})]}),(0,a.jsx)(d.Z,{})]})]})})})}},79420:function(e,s,t){"use strict";var a=t(57437),n=t(2265),i=t(51817),l=t(41671),o=t(92735),r=t(14438),d=t(68575),c=t(93732),u=t(18351),m=t(99376),x=t(14374),f=t(7309),h=t(56295);s.default=()=>{let e=(0,m.useRouter)(),s=(0,m.usePathname)(),t=(0,d.v9)(e=>e.userConfig),[g,p]=(0,n.useState)(t.llm_config),j=t.can_change_keys,[w,b]=(0,n.useState)({isLoading:!1,isDisabled:!1,text:"Save Configuration",showProgress:!1}),[v,N]=(0,n.useState)(null),[y,L]=(0,n.useState)(!1),C=n.useMemo(()=>v&&null!==v.downloaded&&null!==v.size?Math.round(v.downloaded/v.size*100):0,[null==v?void 0:v.downloaded,null==v?void 0:v.size]),_=async()=>{(0,h.L9)(h.j7.Settings_SaveConfiguration_Button_Clicked,{pathname:s});try{b(e=>({...e,isLoading:!0,isDisabled:!0,text:"Saving Configuration..."})),(0,h.L9)(h.j7.Settings_SaveConfiguration_API_Call),await (0,c.W)(g),"ollama"===g.LLM&&g.OLLAMA_MODEL&&((0,h.L9)(h.j7.Settings_CheckOllamaModelPulled_API_Call),await (0,u.Zk)(g.OLLAMA_MODEL)||(L(!0),(0,h.L9)(h.j7.Settings_DownloadOllamaModel_API_Call),await k())),r.Am.info("Configuration saved successfully"),b(e=>({...e,isLoading:!1,isDisabled:!1,text:"Save Configuration"})),(0,h.L9)(h.j7.Navigation,{from:s,to:"/upload"}),e.push("/upload")}catch(e){r.Am.info(e instanceof Error?e.message:"Failed to save configuration"),b(e=>({...e,isLoading:!1,isDisabled:!1,text:"Save Configuration"}))}},k=async()=>{try{await (0,u.N6)(g.OLLAMA_MODEL,N)}finally{N(null),L(!1)}};return((0,n.useEffect)(()=>{if(v&&null!==v.downloaded&&null!==v.size){let e=Math.round(v.downloaded/v.size*100);b({isLoading:!0,isDisabled:!0,text:"Downloading Model (".concat(e,"%)"),showProgress:!0,progressPercentage:e,status:v.status})}v&&v.done&&setTimeout(()=>{L(!1),N(null),r.Am.info("Model downloaded successfully!")},2e3)},[v]),(0,n.useEffect)(()=>{j||e.push("/dashboard")},[j,e]),j)?(0,a.jsxs)("div",{className:"h-screen bg-gradient-to-b font-instrument_sans from-gray-50 to-white flex flex-col overflow-hidden",children:[(0,a.jsx)(f.default,{}),(0,a.jsx)("main",{className:"flex-1 container mx-auto px-4 max-w-3xl overflow-hidden flex flex-col",children:(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsx)(x.Z,{initialLLMConfig:g,onConfigChange:p,buttonState:w,setButtonState:b})})}),(0,a.jsx)("div",{className:"flex-shrink-0 bg-white border-t border-gray-200 p-4",children:(0,a.jsx)("div",{className:"container mx-auto max-w-3xl",children:(0,a.jsx)("button",{onClick:_,disabled:w.isDisabled,className:"w-full font-semibold py-3 px-4 rounded-lg transition-all duration-500 ".concat(w.isDisabled?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:ring-4 focus:ring-blue-200"," text-white"),children:w.isLoading?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 animate-spin"}),w.text]}):w.text})})}),y&&v&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-2xl max-w-md w-full p-6 relative",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mb-4",children:v.done?(0,a.jsx)(l.Z,{className:"w-12 h-12 text-green-600 mx-auto"}):(0,a.jsx)(o.Z,{className:"w-12 h-12 text-blue-600 mx-auto animate-pulse"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:v.done?"Download Complete!":"Downloading Model"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:g.OLLAMA_MODEL}),C>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300 ease-out",style:{width:"".concat(C,"%")}})}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[C,"% Complete"]})]}),v.status&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-700 capitalize",children:v.status})]}),v.status&&"pulled"!==v.status&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["downloading"===v.status&&"Downloading model files...","verifying"===v.status&&"Verifying model integrity...","pulling"===v.status&&"Pulling model from registry..."]}),v.downloaded&&v.size&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-600",children:[(0,a.jsxs)("span",{children:["Downloaded:"," ",(v.downloaded/1024/1024).toFixed(1)," ","MB"]}),(0,a.jsxs)("span",{children:["Total: ",(v.size/1024/1024).toFixed(1)," ","MB"]})]})})]})})})]}):null}},97367:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(57437),n=t(94508);function i(e){let{children:s,className:t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("max-w-[1440px] w-[95%]  mx-auto ",t),children:s})}}},function(e){e.O(0,[1601,8310,3335,3889,9908,1455,4438,2972,5302,2661,9027,3909,866,7536,4536,1622,2971,2117,1744],function(){return e(e.s=71218)}),_N_E=e.O()}]);